!function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}r.m=i,r.c=n,r.p="",r(0)}([function(t,e,i){i(1);(new(i(2))).init()},function(t,e){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},writable:!0,configurable:!0})},function(t,e,i){var r=i(3),n=i(4),o=i(46);function s(){o.call(this,"SMInHome")}((s.prototype=Object.create(o.prototype)).constructor=s).prototype.newPlugin=function(t,e){return new n(e,t,this._device)},s.prototype._initPlugin=function(t){var e=!1;if(t.options&&t.options.extra&&-1<t.options.extra.indexOf("inblock")?(e=!0,t.options.extra=t.options.extra.substr(0,t.options.extra.indexOf("inblock"))):t.options.inblock&&(e=!0),e){var i=t.options.country;if("desktop"!==this._device.mobileDesktop||t.ava.width){if(!t.ava.width){var n="ES"===i?.7:.5;t.ava.width=Math.round(screen.width*n)}}else t.ava.width=420;i&&"ES"!==i&&"MX"!==i&&"CO"!==i?this._initInBlockPlugins(t):(t.options.inblock=!1,this._createAndInitPluginInstance(t,this.getApi()))}else this._createAndInitPluginInstance(t,this.getApi())},s.prototype._initInBlockPlugins=function(t){for(var e=0;e<3;e++){var i;try{var n=this.getApi()+e;(i=r.deepClone(t)).options.inblock=!0,i.options.inblockId=e,i.ava&&(i.ava.bottom=0,i.ava.width&&(i.ava.bottom=Math.floor(360*i.ava.width/640*e+60))),this._createAndInitPluginInstance(i,n)}catch(t){}}},t.exports=s},function(n,t){var e=function(e){return function(t){return"number"==typeof t["inner"+e]?t["inner"+e]:t.documentElement&&"number"==typeof t.documentElement["client"+e]?t.documentElement["client"+e]:void 0}},i=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},r=function(t,e){if(!t)return e;for(var i in e)e.hasOwnProperty(i)&&("object"==typeof e[i]?t[i]=r(t[i],e[i]):t[i]=e[i]);return t},o=function(t){return!1===i(t)?t:t.self&&t.self===t?t:t instanceof HTMLElement?t:t&&t.tagName&&"script"===t.tagName.toLowerCase()?t:!0===Array.isArray(t)?s(t):"function"==typeof t?a(t):!0===i(t)?d(t):JSON.parse(JSON.stringify(t))},s=function(t){return t.map(function(t){return o(t)})},a=function(t){!0===t.__isClone&&(t=t.__clonedFrom);var e=t.bind({});for(var i in t)e[i]=t[i];return e.__isClone=!0,e.__clonedFrom=t,e},d=function(t){var e=t.constructor?t.constructor():{};for(var i in t)t.hasOwnProperty(i)&&(e[i]=o(t[i]));return e},c=function(){return["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"]},l=function(t,e){return void 0===e?e=[]:e.push(t),"BODY"!==t.tagName?l(t.parentNode,e):e},h=function(e,t,i,n,r){var o=document.createElement("iframe");o.setAttribute("style","border:0px;width:100%;height:100%;position:absolute;display:block;top:0px;left:0px;"),o.setAttribute("id","vpaid_creative_"+r),o.scrolling="no";try{!1===/Edge/.test(navigator.userAgent)&&(o.src="javascript:false"),e.appendChild(o);var s=o.contentWindow.document;s.open().write(i),s.close()}catch(t){o.src="javascript:void((function(){ "+i+"})())",e.appendChild(o)}return o},u=function(t,e,i,n){try{if(n<=0)return;if(!t.contentWindow)return void setTimeout(function(){u(t,e,i,n-1)},200);t.contentWindow[e]=i}catch(t){}},p=n.exports={removeWhitespace:function(t){for(var e=/\S/,i=0;i<t.childNodes.length;i++)3!==t.childNodes[i].nodeType||e.test(t.childNodes[i].nodeValue)||(t.removeChild(t.childNodes[i]),i--);return t},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},deepExtend:r,deepClone:o,isObject:i,deepCloneArray:s,deepCloneFunction:a,deepCloneObject:d,getBasePathMainJS:function(){return"https://static.sunmedia.tv/SMSdk/"},getElement:function(t,e){var i;if("swf"!==e)return document.getElementById(t);try{if(window.document[t])i=window.document[t];else if(document.getElementById(t))i=document.getElementById(t);else{if(!window[t])return!1;i=window[t]}return-1<navigator.userAgent.toLowerCase().indexOf("firefox")?i[1]:i}catch(t){}},getElementPosition:function(t){var e=document.body.getBoundingClientRect(),i=t.getBoundingClientRect(),n=i.top-e.top;return{x:i.left-e.left,y:n}},getWindow:function(t){return window.parent.document.getElementById(t)?this.w=window.parent:document.getElementById(t)&&(this.w=window),this.w},getPos:function(t){for(var e=0,i=0;null!=t;e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent);return{x:e,y:i}},windowHeight:e("Height"),windowWidth:e("Width"),scrollTop:function(t){if(null!=t.pageXOffset)return{x:t.pageXOffset,y:t.pageYOffset};var e=t.document;return"CSS1Compat"===document.compatMode?{x:e.documentElement.scrollLeft,y:e.documentElement.scrollTop}:{x:e.body.scrollLeft,y:e.body.scrollTop}},tryGet:function(t){try{return t()}catch(t){return}},strUpperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},strLowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},arrayToCamelCase:function(t){var e=n.exports.strLowerFirst(t.shift());for(var i in t)t.hasOwnProperty(i)&&(e+=n.exports.strUpperFirst(t[i]));return e},objInvert:function(t){var e={};for(var i in t)i.match(/^\d+$/)&&(i=parseInt(i,10)),e[t[i]]=i;return e},childNodesNotAllowedToCount:c,isChildNodeAllowed:function(t){if(!t||!t.nodeName)return!1;var e=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"],i=t.nodeName.toLowerCase();return-1===e.indexOf(i)},debug:function(t,e){e=e||p.debugLevel.INFO;var i="log";"undefined"!=typeof SMDBGLevel&&e<=SMDBGLevel&&(m[e].fn&&(i=m[e].fn),m[e].css&&"object"!=typeof t?(t="%c"+t,console[i](t,m[e].css)):console[i](t))},printError:function(t){console.error(t.name+": "+t.message)},linearQuantile:function(t,e){t.sort(function(t,e){return t-e});var i=e/100*(t.length-1),n=Math.floor(i);return n===i?t[i]:(fract=i-n,t[n]+(t[n+1]-t[n])*fract)},memoize:function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.memoize=e.memoize||{},t in e.memoize?e.memoize[t]:e.memoize[t]=e.apply(this,t)}},getParentNodeSwipe:l,appendFrameCode:h,appendFrameScript:function(t,e,i,n,r,o){var s;e?(s='<body style="margin:0px;"></body>',!0===r&&(s+="<script>var inDapIF = true;<\/script>"),s+=!0===o?"<script>"+decodeURIComponent(e)+"<\/script>":'<script src="'+e+'"><\/script>',s+="<script>setTimeout(function(){window.myCallback();}, 1000);<\/script>"):s="setTimeout(function(){window.myCallback()},10);";var a=h(t,0,s,0,n);return u(a,"myCallback",i||function(){},5),a},setWindowFocusDetection:function(t,e){var i="hidden";i in document?document.addEventListener("visibilitychange",t):(i="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(i="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(i="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t},removeWindowFocusDetection:function(t,e){var i="hidden";i in document?document.removeEventListener("visibilitychange",t):(i="mozHidden")in document?document.removeEventListener("mozvisibilitychange",t):(i="webkitHidden")in document?document.removeEventListener("webkitvisibilitychange",t):(i="msHidden")in document?document.removeEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=null:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=null}},f=n.exports.debugLevel=Object.freeze(n.exports.objInvert(["DISABLED","CRITICAL","ERROR","WARNING","NOTICE","INFO","DEBUG"])),m={};m[f.CRITICAL]={fn:"error"},m[f.ERROR]={fn:"error"},m[f.WARNING]={fn:"warn"},m[f.NOTICE]={css:"color:#664ce6"},m[f.INFO]={fn:"info"},m[f.DEBUG]={css:"color:#4773ca;"}},function(t,e,i){var n=i(5),a=i(10);function r(t,e,i){n.call(this,t,e,i),this.config.options.fold=!0,this.referenceFoldWidth="30px",this.avaPosition=this.config.ava.position,this.initDefaultAvaWidth(),this.className="SMInHome"}((r.prototype=Object.create(n.prototype)).constructor=r).prototype.startPlayer=function(){if("desktop"!==this.device.mobileDesktop){var t=this,e=function(){t.config.w.document.removeEventListener("touchstart",e,!0),t.config.w.document.removeEventListener("touchcancel",e,!0),t.config.w.document.removeEventListener("touchmove",e,!0),t.config.w.document.removeEventListener("touchend",e,!0),n.prototype.startPlayer.call(t)};this.config.w.document.addEventListener("touchstart",e,!0),this.config.w.document.addEventListener("touchcancel",e,!0),this.config.w.document.addEventListener("touchmove",e,!0),this.config.w.document.addEventListener("touchend",e,!0)}else n.prototype.startPlayer.call(this)},r.prototype.initDefaultAvaWidth=function(){this.config.options&&"ES"===this.config.options.country?this.avaDefaultWidth={mobile:Math.round(.73*screen.width),desktop:420}:this.avaDefaultWidth={mobile:Math.round(.5*screen.width),desktop:420},this.config.ava.position=this.avaPosition,this.isSelectedTag=!1},r.prototype.buildReferenceStyle=function(){var t={width:4,height:3},e=this.getCreativeAvaSize(t);if(this.sspSize&&this.sspSizeBanner()){var i=e.width;if(this.sspSize.rescale?(e.width=i,e.height=i*this.sspSize.h/this.sspSize.w):(e.width=this.sspSize.w,e.height=this.sspSize.h),this.sspSize.avareduce&&(e.width=e.width/2,e.height=e.height/2),"desktop"!==this.device.mobileDesktop&&this.sspSize.rescaleMobile&&(e.width=e.width/2,e.height=e.width*this.sspSize.h/this.sspSize.w),"desktop"!==this.device.mobileDesktop&&this.sspSize.mobileWidth){var n=this.avaDefaultWidth.mobile;e.width=this.sspSize.mobileWidth*n/100,e.height=e.width*this.sspSize.h/this.sspSize.w}}this.adFactory&&this.adFactory.forceDimensions&&(e.width=this.adFactory.width,e.height=this.adFactory.height,"desktop"!==this.device.mobileDesktop&&(e.width=e.width/2,e.height=e.height/2));var r=this.config.w.document.body.offsetWidth-40,o={height:Math.round(r*t.height/t.width),width:r},s=a.getFrameAVAStyle(this.config.ava,o,e);return this.referenceInitialWidth=-1===["top","bottom"].indexOf(this.config.ava.position)?e.width:o.width,this.referenceInitialHeight=-1===["top","bottom"].indexOf(this.config.ava.position)?e.height:o.height,"background-color:transparent;position:fixed!important;z-index:900000;"+s},r.prototype.buildFrameContainerStyle=function(){var t=this.config.w.getComputedStyle(this.reference),e=this.reference.offsetWidth,i=this.reference.offsetHeight,n="top:"+t.top+";";return this.config.ava&&this.config.ava.position&&-1<this.config.ava.position.indexOf("bottom")?n="bottom:"+t.bottom+";":this.config.ava&&this.config.ava.position&&-1<this.config.ava.position.indexOf("top")&&(n="top:"+t.top+";"),"position:"+t.position+";z-index:"+t.zIndex+";"+n+"right:"+t.right+";left:"+t.left+";width:"+e+"px;height:"+i+"px;"},r.prototype.getPluginName=function(){return"SMInHome"},r.prototype.insertHTMLElementInDOM=function(t){this.config.w.document.body.appendChild(t)},r.prototype.updateReferenceStyle=function(){this.reference&&(this.reference.setAttribute("style",this.buildReferenceStyle()),this.config.options.fold&&this.doFold())},r.prototype.updateFrameContainerStyle=function(){this.frameContainer&&this.frameContainer.setAttribute("style",this.buildFrameContainerStyle())},r.prototype.buildBannerStyle=function(){return"position:"+this.reference.style.position+";z-index:"+this.reference.style.zIndex+";"+this.config.ava.position+":20px;bottom:"+this.reference.style.bottom+";display:block;"},r.prototype.buildSMBannerStyle=function(){return this.buildBannerStyle()},r.prototype.buildAuxBannerStyle=function(){return this.buildBannerStyle()},r.prototype.onLoadSMBannerIframe=function(t,e){this.config.banner.display="ava",n.prototype.onLoadSMBannerIframe.call(this,t,e)},r.prototype.onNonStarted=function(){this.state=this.STATES.LOADING,this.player.vast.initAd()},r.prototype.onAdError=function(){this.resetToInitialSize(),n.prototype.onAdError.call(this)},r.prototype.onAdStopped=function(){this.resetToInitialSize()},r.prototype.onAdLoaded=function(){"mobile"===this.device.mobileDesktop&&(this.player.isSelectedSpotxTag||this.player.isSelectedRichAudienceTag)&&(this.config.ava.position="top"),this.unfold(),n.prototype.onAdLoaded.call(this),this.player.vast.startAd()},r.prototype.onSMAdRequest=function(){n.prototype.onSMAdRequest.call(this),this.fireEffectiveTracker()},r.prototype.onSMUpdateConfigOptions=function(t){t.hasOwnProperty("restart")&&(this.config.options.restart=t.restart)},r.prototype.onSMPlayerFullScreenExit=function(){this.updateFrameContainerStyle(),n.prototype.onSMPlayerFullScreenExit.call(this)},r.prototype.onNoVideoReminderImpression=function(){this.unfold(),n.prototype.onNoVideoReminderImpression.call(this)},r.prototype.resetToInitialSize=function(){this.initDefaultAvaWidth(),void 0===this.adFactory||this.config.options.fold||(this.doFold(),this.updateFrameContainerStyle())},r.prototype.doFold=function(){this.config.options.fold=!0;var t=this.reference.getBoundingClientRect();this.config.options.initialWidth=Math.round(t.width),this.reference.style.width=this.referenceFoldWidth},r.prototype.unfold=function(){this.config.options.fold=!1,this.updateReferenceStyle()},r.prototype.sspSizeBanner=function(){for(var t=[{w:300,h:250,rescale:!1,rescaleMobile:!0,avareduce:!1},{w:320,h:480,rescale:!1,rescaleMobile:!0,avareduce:!0,mobileWidth:66},{w:300,h:600,rescale:!1,rescaleMobile:!0,avareduce:!0,mobileWidth:50},{w:728,h:90,rescale:!0,rescaleMobile:!1,avareduce:!1},{w:980,h:90,rescale:!0,rescaleMobile:!1,avareduce:!1},{w:300,h:100,rescale:!1,rescaleMobile:!0,avareduce:!1}],e=0;e<t.length;e++)if(this.sspSize&&this.sspSize.w&&this.sspSize.w===t[e].w&&this.sspSize.h&&this.sspSize.h===t[e].h)return this.sspSize.rescale=t[e].rescale,this.sspSize.rescaleMobile=t[e].rescaleMobile,this.sspSize.avareduce=t[e].avareduce,t[e].mobileWidth&&(this.sspSize.mobileWidth=t[e].mobileWidth),!0;return!1},t.exports=r},function(t,e,i){var s=i(6),n=i(7),r=i(8),a=i(10),o=i(11),d=i(12),c=i(13),l=i(14),h=i(15),u=i(16),p=i(19),f=i(45),m=i(3);function g(t,e,i){l.call(this),this.state=this.STATES.INITIAL,this.className=a.getPluginName(this),this.plgtype=this.className.toLowerCase(),this.api=t,this.device=i,this.config=Object.assign({},e),this.itId=this.config.it,this.isBannerEnabled=!0,this.intervalManager=new h,this.outOfPageIntervalName="outOfPage",this.frameContainerInstanceId=this.plgtype+"_frame_"+this.api,this.configStyleIntegrationId=this.plgtype+"_config_css_"+this.itId;var n=this.plgtype+"-reference";this.referenceIntegrationName=n+"-"+this.itId,this.referenceClassName=n+" "+this.referenceIntegrationName,this.referenceInstanceId=n+"-"+this.api;var r=this.plgtype+"-reminder",o=r+"-"+this.itId;this.reminderClassName=r+" "+o,this.reminderInstanceId=r+"-"+this.api,this.loopIntents=1,this.avaDefaultWidth={mobile:Math.round(.5*screen.width),desktop:400},this.tagsBlockHasChanged=!1,this._fns={AdError:this.onAdError,AdStopped:this.onAdStopped,AdLoaded:this.onAdLoaded,AdStarted:this.onAdStarted,AdSkipped:this.onAdSkipped,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdPlaying:this.onAdPlaying,AdPaused:this.onAdPaused,AdComplete:this.onAdComplete,AdReplay:this.onAdReplay,SMAdRequest:this.onSMAdRequest,changeBillingPB:this.onchangeBillingPB,NoVideoReminderImpression:this.onNoVideoReminderImpression},this._fns[s.EVENTS.AD.TRACKER]=this.onAdTracker,this._fns[s.EVENTS.SM.TRACKER]=this.onSMTracker,this._fns[s.EVENTS.SM.UNFILLED]=this.onSMUnfilled,this._fns[s.EVENTS.SM.TAGS_BLOCK_CHANGED]=this.onSMTagsBlockChanged,this._fns[s.EVENTS.SM.UPDATE_CONFIG_OPTIONS]=this.onSMUpdateConfigOptions,this._fns[s.EVENTS.SM.PLAYER_FULLSCREEN_EXIT]=this.onSMPlayerFullScreenExit,this._fns[s.EVENTS.SM.NON_STARTED]=this.onNonStarted,this._fns[s.EVENTS.SM.UPDATE_TRACKER]=this.onUpdateTracker,this._fns[s.EVENTS.AD_FACTORY]=this.onSMAdFactory,this._fns[s.EVENTS.AD_FACTORY_SSP_VPAID_SIZE]=this.onAdFactoryVpaidSSPSize}((g.prototype=Object.create(l.prototype)).constructor=g).prototype.STATES={NONSTARTED:"NONSTARTED",INITIAL:"INITIAL",LOADING:"LOADING",LOADED:"LOADED",READY:"READY",PLAYING:"PLAYING",PAUSED:"PAUSED",STARTING:"STARTING",COMPLETED:"COMPLETED",CLOSING:"CLOSING"},g.prototype.EVENTS={SM_OPPORTUNITY_FIRED:"SMOpportunityFired",SM_REQUEST_FIRED:"SMRequestFired",SM_EFFECTIVE_FIRED:"SMEffectiveFired",SM_UNFILLED_FIRED:"SMUnfilledFired",SM_VIDEO_TRACKER_FIRED:"SMVideoTrackerFired",SM_AVA_DONE:"SMAvaDone",SM_COMPLETED:"SMCompleted",SM_UPDATE_PARAMS:"SMUpdateParams",BROADCAST:"SMPluginBroadcast",CLOSED:"SMPluginClosed"},g.prototype.dispatchPlatformTrackerEvent=function(t,e){e&&e.urlList.length&&this.dispatchEvent(t,e)},g.prototype.skipOutOfPageAd=function(){!n.isOutOfScreen(this.frameContainer,this.config.w)||this.state!==this.STATES.PLAYING&&this.state!==this.STATES.PAUSED||(this.skippedViaOutOfPage=!0,this.player.vast.skipAd())},g.prototype.setOutOfPageInterval=function(){this.intervalManager.addInterval(this.outOfPageIntervalName,this.skipOutOfPageAd.bind(this),50)},g.prototype.isScrolledIntoView=function(t){var e=t.getBoundingClientRect();return 0<=e.top&&e.bottom-(e.height-55)<=m.windowHeight(this.config.w)},g.prototype.insertHTMLElementInDOM=function(t){throw new Error("Missing implementation of abstract method!")},g.prototype.updateReferenceStyle=function(){throw new Error("Missing implementation of abstract method!")},g.prototype.getOrCreateReferenceElement=function(){var t=this.config.w.document.getElementById(this.referenceInstanceId);return t?t.innerHTML="":((t=this.config.w.document.createElement("div")).setAttribute("id",this.referenceInstanceId),t.setAttribute("class",this.referenceClassName+" "+this.device.mobileDesktop)),t},g.prototype.getOrCreateReminderContainerElement=function(){var t=this.config.w.document.getElementById(this.reminderInstanceId);return t?t.innerHTML="":((t=this.config.w.document.createElement("div")).setAttribute("id",this.reminderInstanceId),t.setAttribute("class",this.reminderClassName+" "+this.device.mobileDesktop)),t},g.prototype.getOrCreateStyle=function(t,e){var i=this.config.w.document.getElementById(t);if(!i)if((i=this.config.w.document.createElement("style")).setAttribute("id",t),i.setAttribute("type","text/css"),i.styleSheet)i.styleSheet.cssText=e;else{var n=this.config.w.document.createTextNode(e);i.appendChild(n)}return i},g.prototype.updateFrameContainerStyle=function(){throw new Error("Missing implementation of abstract method!")},g.prototype.createFrameContainer=function(){var t=this.config.w.document.createElement("div");return t.setAttribute("id",this.frameContainerInstanceId),t.setAttribute("data-id",this.itId),t.setAttribute("data-device",this.device.mobileDesktop),this.config.w.document.body.appendChild(t),t},g.prototype.createPluginElements=function(){if(this.reference=this.getOrCreateReferenceElement(),this.reference&&(this.insertHTMLElementInDOM(this.reference),this.updateReferenceStyle(),this.frameContainer=this.createFrameContainer(),this.frameContainer&&this.updateFrameContainerStyle()),"string"==typeof this.config.options.css){var t=this.getOrCreateStyle(this.configStyleIntegrationId,this.config.options.css);this.config.w.document.getElementsByTagName("head")[0].appendChild(t)}},g.prototype.updateElementsStyle=function(){this.updateReferenceStyle(),this.updateFrameContainerStyle()},g.prototype.loadPlayer=function(){(this.createPluginElements(),c.checkForScreenHunter(this.config),this.frameContainer)?(this.player=new p(this.className,this.frameContainer,this.config.options,this.device,this.config.w,this.api),this.player.addListener("all",this),this.config.clientTag&&this.player.loadTag(this.config.clientTag,"c"),this.config.tag&&this.player.loadTag(this.config.tag,"sm"),this.config.priority&&this.player.setTagPriority(this.config.priority),this.frameContainer.style.display="block",this.state=this.STATES.LOADED,this.isScrolledIntoView(this.frameContainer)||this.device.desktop()||(this.player.adPlayer.autoplay=!1,this.player.adPlayer.removeAttribute("autoplay")),this.updateElementsStyle()):d.warning("There was an error creating the frame container element.")},g.prototype.startPlayer=function(){this.loadPlayer(),this.player&&this.player.start()},g.prototype._fireTracker=function(t){var e,i=this.ptfTrackerManager.isImpressionTracker(t);if(i&&this.updateBlockEmptyFlags(),this.hasBeenAds){var n=this.ptfTrackerManager.isSkipTracker(t);(i||n)&&(e=this.ptfTrackerManager.fireVideoTracker(t))}else e=this.ptfTrackerManager.fireVideoTracker(t);this.dispatchPlatformTrackerEvent(this.EVENTS.SM_VIDEO_TRACKER_FIRED,e)},g.prototype.fireEffectiveTracker=function(){if(!this.effectiveFired){var t=this.ptfTrackerManager.fireEffective();this.dispatchPlatformTrackerEvent(this.EVENTS.SM_EFFECTIVE_FIRED,t),this.effectiveFired=!0}},g.prototype.fireUnfilledTrackers=function(){var t;if(this.effectiveFired&&this.pluginEnded){if(this.tagsBlockHasChanged)t=this.ptfTrackerManager.fireUnfilled(this.sunMediaBlockEmpty,this.clientBlockEmpty);else{var e=this.config.priority===s.SM_PRIORITY.SUN_MEDIA;t=this.ptfTrackerManager.fireUnfilled(this.sunMediaBlockEmpty&&e,this.clientBlockEmpty&&!e)}this.dispatchPlatformTrackerEvent(this.EVENTS.SM_UNFILLED_FIRED,t)}},g.prototype.externalLogsCallback=function(t){this.externalLogs||(this.externalLogs={}),this.externalLogs[t]=!0},g.prototype.init=function(){if(this.config){if(this.config.priority){this.currentPriority=this.config.priority,this.dcAdPosition="no-pos",void 0!==this.config.options.adPosition&&"number"==typeof this.config.options.adPosition&&(this.dcAdPosition=this.config.options.adPosition);var t=!0;this.config.options.inblock&&this.config.options.inblockId&&0<this.config.options.inblockId&&(t=!1),this.ptfTrackerManager=new u(this.itId,this.dcAdPosition,this.config.defaultTracker,t,this.externalLogsCallback.bind(this)),this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents)}this.state=this.STATES.LOADING;var e=this.ptfTrackerManager.fireOpportunity();this.dispatchPlatformTrackerEvent(this.EVENTS.SM_OPPORTUNITY_FIRED,e)}else d.warning("Stop from init "+this.className+" because no config were passed")},g.prototype.closeCallback=function(){this.frameContainer&&this.frameContainer.parentNode&&this.frameContainer.parentNode.removeChild(this.frameContainer),this.reference&&this.reference.id===this.referenceInstanceId&&this.reference.parentNode&&this.reference.parentNode.removeChild(this.reference),this.dispatchEvent(this.EVENTS.CLOSED,this)},g.prototype.close=function(t){this.dispatchEvent(this.EVENTS.SM_COMPLETED,this.api),t||(t={playedAdsCount:0,remainderAds:null}),this.zipElement(this.frameContainer),this.zipElement(this.reference),this.config.options.callback&&"function"==typeof this.config.w[this.config.options.callback]&&this.config.w[this.config.options.callback]({status:"SunMediaEnd",ads:t.playedAdsCount,container:this.config.container}),setTimeout(this.closeCallback.bind(this),s.CLOSE_MILLISECONDS)},g.prototype.zipElement=function(t){try{if(t){var e=t.getAttribute("style");t.setAttribute("style",e+"height: 0px!important; overflow: hidden;")}}catch(t){d.warning(t)}},g.prototype.onLoadSMBannerIframe=function(e,t){try{var i=function(){e.style.display="none",e.parentNode.removeChild(e)};e.style.display="block",t.contentWindow.document.body.style.margin="0";var n=t.contentWindow.document.body.scrollHeight,r=t.contentWindow.document.body.scrollWidth;0===n||0===r?setTimeout(function(){i()},2e3):(e.style.height=n+"px",e.style.width=r+"px","ava"===this.config.banner.display&&setTimeout(function(){var t=document.createElement("div");t.setAttribute("id","closeButton"),t.setAttribute("class","closeButton"),t.setAttribute("style","z-Index:50000;display:block"),t.onclick=i,e.appendChild(t)},5e3))}catch(t){d.warning(t)}},g.prototype.buildSMBannerStyle=function(){throw new Error("Missing implementation of abstract method!")},g.prototype.createSMBanner=function(){var t=this.className+"_SMBanner_",e=document.createElement("div");e.setAttribute("id",t+this.api),e.setAttribute("class",t+this.itId+" "+this.device.mobileDesktop),"fixed"===this.config.banner.display?(e.setAttribute("style",this.buildSMBannerStyle()),this.insertHTMLElementInDOM(e)):(e.setAttribute("style","z-index: 2000;display:none;position:fixed;bottom:20px;"+this.config.banner.position+":20px;"),this.config.w.document.body.appendChild(e)),this.bannerSelectedTag=a.selectRandomElementInArr(this.config.banner.tag);var i=r.replace(decodeURIComponent(this.bannerSelectedTag),{publisherId:this.config.publisher,gdprApplies:this.config.options.gdprApplies,consentData:this.config.options.consentData,category:this.config.options.category,height:e.offsetHeight,width:e.offsetWidth}),n=m.appendFrameCode(e,!0,i,null,this.api);n.onload=this.onLoadSMBannerIframe.bind(this,e,n)},g.prototype.createAuxBannerChildElement=function(t){var e;return"img"===t.type?((e=new Image).src=t.data,e.style.maxWidth="100%"):"video"===t.type?((e=this.config.w.document.createElement("video")).setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("muted",""),e.setAttribute("autoplay",""),e.setAttribute("controls",""),e.src=t.data,e.style.height=e.style.width="100%"):t.data&&"string"==typeof t.data&&((e=this.config.w.document.createElement("div")).innerHTML=t.data.trim()),e},g.prototype.buildAuxBannerStyle=function(){throw new Error("Missing implementation of abstract method!")},g.prototype.createAuxBanner=function(){var t;(t=this.config.w.document.createElement("div")).setAttribute("id",this.className+"_AuxBanner_"+this.api),t.setAttribute("style",this.buildAuxBannerStyle());var e=this.config.content,i=this.createAuxBannerChildElement(e);i&&(t.appendChild(i),this.insertHTMLElementInDOM(t))},g.prototype.endAd=function(t){if(this.hasBeenAds=this.hasBeenAds||t&&0<t.playedAdsCount,this.adFactory=null,this.sspSize=null,this.player.removeCurrentAd(),this.config.loop&&this.config.loop.enabled&&this.hasBeenAds&&this.config.loop.onlyOneVideo&&(this.config.loop.enabled=!1),t&&t.reminderAds&&0<t.reminderAds.length){this.pluginEnded=!0,this.fireUnfilledTrackers(),this.config.content=null,this.config.banner=null,this.config.options.restart=!1;var e=this.config.w.getComputedStyle(this.reference,null);this.reminderContainer=this.getOrCreateReminderContainerElement(),this.reminderContainer.setAttribute("style","z-index:"+parseInt(e.zIndex)+"1;position:"+e.position+";left:"+e.left+";top:"+e.top+";width:"+e.width+";height:"+e.height+";"),this.insertHTMLElementInDOM(this.reminderContainer),this.ptfTrackerManager&&this.ptfTrackerManager._videoTrackers&&this.ptfTrackerManager._videoTrackers.clickTracking&&0<this.ptfTrackerManager._videoTrackers.clickTracking.urlList.length&&t.clickTracker&&t.clickTracker.addUrl&&t.clickTracker.addUrl(this.ptfTrackerManager._videoTrackers.clickTracking.urlList[0]),this.config.w.reminderDisplay=new f(t.reminderAds,t.clickTracker,this.config.ava,this.reference,this.config.w,this.device.mobileDesktop,this.config.options.skipReminder,this.config.options.skipReminderTime,this.api,this.reminderContainer),this.config.w.reminderDisplay.setCallbackMain(this.config.options.callback,{status:"SunMediaEnd",ads:t.playedAdsCount,container:this.config.container}),this.config.options.callback=null,this.close(t)}else if(this.config.loop&&this.config.loop.enabled){var i=t&&0===t.playedAdsCount||this.config.loop.autoStart;this.restartPlayer(i)}else this.isBannerEnabled&&this.config.banner&&0<this.config.banner.tag.length&&("empty"===this.config.banner.schedule&&t&&0===t.playedAdsCount||"always"===this.config.banner.schedule)?(this.pluginEnded=!0,this.fireUnfilledTrackers(),this.createSMBanner(),this.close(t),this.isBannerEnabled=!1):(this.pluginEnded=!0,this.fireUnfilledTrackers(),this.minimized&&this.maximizeVideo(),this.config.options.restart&&t&&0<t.playedAdsCount?(this.player.displayRestart(this.endAd.bind(this,t)),this.config.options.restart=!1):this.config.content&&this.config.content.type&&"string"==typeof this.config.content.data&&""!==this.config.content.data.trim()?(this.createAuxBanner(),this.config.content.type=!1):this.close(t))},g.prototype._doPlayerRestart=function(){this.state=this.STATES.LOADING,0<this.config.loop.times&&(this.loopIntents++,this.config.loop.times<=this.loopIntents&&(this.config.loop.enabled=!1)),this.currentPriority=this.config.priority,this.player.setTagPriority(this.currentPriority),this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents),this.player.start()},g.prototype.callPlayerRestart=function(){this.config.w.removeEventListener("scroll",this._bindedRestartListener,!0),this._doPlayerRestart()},g.prototype.restartPlayer=function(t){t?this._doPlayerRestart():(this._bindedRestartListener=this.callPlayerRestart.bind(this),this.config.w.addEventListener("scroll",this._bindedRestartListener,!0))},g.prototype.updateBlockEmptyFlags=function(t){t=void 0!==t&&(t&&!0),this.currentPriority===s.SM_PRIORITY.SUN_MEDIA?this.sunMediaBlockEmpty=void 0!==this.sunMediaBlockEmpty?t&&this.sunMediaBlockEmpty:t:this.clientBlockEmpty=void 0!==this.clientBlockEmpty?t&&this.clientBlockEmpty:t},g.prototype.tryBlockAds=function(){if(this.player&&this.player.vast){var t="mobile"===this.device.mobileDesktop,e=this.player.vast.currentTagUrl;o.blockAds(t,e,this.config.it)}},g.prototype.on=function(t,e){t&&this._fns[t]&&"function"==typeof this._fns[t]&&(this._fns[t].bind(this)(e),this.dispatchEvent(t,e))},g.prototype.onchangeBillingPB=function(t){"sm"===this.currentPriority&&this.ptfTrackerManager.setPBType(t)},g.prototype.onAdError=function(){this.adFactory=null,this.sspSize=null},g.prototype.onAdStopped=function(){},g.prototype.onAdLoaded=function(){this.state=this.STATES.READY,this.sspSize=null,this.updateElementsStyle(),setTimeout(this.tryBlockAds.bind(this),1e3)},g.prototype.onAdStarted=function(){this.tryBlockAds(),this.config.options.callback&&"function"==typeof this.config.w[this.config.options.callback]&&this.config.w[this.config.options.callback]({status:"SunMediaStart"}),this.player.resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight)},g.prototype.onAdSkipped=function(){this.config.loop&&this.config.loop.enabled&&(this.config.loop.enabled=!1)},g.prototype.onAdRemainingTimeChange=function(t){},g.prototype.onAdPlaying=function(){this.state=this.STATES.PLAYING,this.updateElementsStyle(),this.setOutOfPageInterval()},g.prototype.onAdPaused=function(){this.state=this.STATES.PAUSED},g.prototype.onAdComplete=function(t){try{this.intervalManager.stopInterval(this.outOfPageIntervalName),this.state!==this.STATES.COMPLETED&&(this.state=this.STATES.COMPLETED,this.endAd(t))}catch(t){this.state=this.STATES.COMPLETED,d.error(t)}},g.prototype.onAdReplay=function(){this.restarted=!0,this.effectiveFired=!1,this.ptfTrackerManager&&(this.state=this.STATES.READY,this.player.setTagPriorityToSunMedia(),this.currentPriority=s.SM_PRIORITY.SUN_MEDIA,this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents+1))},g.prototype.onSMAdRequest=function(){var t=this.ptfTrackerManager.fireRequest();this.dispatchPlatformTrackerEvent(this.EVENTS.SM_REQUEST_FIRED,t)},g.prototype.onAdTracker=function(t){!1===this.ptfTrackerManager.isBillingTracker(t)&&this._fireTracker(t)},g.prototype.onSMTracker=function(t){!0===this.ptfTrackerManager.isBillingTracker(t)&&this._fireTracker(t)},g.prototype.onSMUnfilled=function(){this.updateBlockEmptyFlags(!0)},g.prototype.onSMTagsBlockChanged=function(){this.tagsBlockHasChanged=!0,this.currentPriority=this.config.priority===s.SM_PRIORITY.CLIENT?s.SM_PRIORITY.SUN_MEDIA:s.SM_PRIORITY.CLIENT,this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents)},g.prototype.onSMUpdateConfigOptions=function(t){t.hasOwnProperty("ava")&&(this.config.ava.enabled=t.ava),t.hasOwnProperty("restart")&&(this.config.options.restart=t.restart)},g.prototype.onSMPlayerFullScreenExit=function(){this.player.resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight)},g.prototype.onNonStarted=function(){this.state=this.STATES.NONSTARTED},g.prototype.onUpdateTracker=function(t){this.ptfTrackerManager.updateTracker(t)},g.prototype.onNoVideoReminderImpression=function(){this.config.options.callback&&"function"==typeof this.config.w[this.config.options.callback]&&this.config.w[this.config.options.callback]({status:"SunMediaStart"})},g.prototype.onSMAdFactory=function(t){var e=!1;switch(t.provider){case"SM":this.adFactory={type:t.type,height:t.height,width:t.width,responsive:t.responsive,forceDimensions:"SocialAd"===t.type||"Display"===t.type||"Scroller"===t.type},e=this.adFactory.height&&this.adFactory.width;break;case"Creative":"vertical"===t.type&&(this.adFactory={type:t.type,height:t.height,width:t.width,responsive:t.responsive,forceDimensions:!0},e=this.adFactory.height&&this.adFactory.width)}e&&(this.reference.style.background="transparent",this.updateElementsStyle())},g.prototype.getCreativeSize=function(){var t={width:this.reference.getBoundingClientRect().width,height:Math.round(360*this.reference.getBoundingClientRect().width/640)};return this.adFactory&&this.adFactory.height&&this.adFactory.width&&(this.adFactory.responsive?(t.height=this.adFactory.height*t.width/this.adFactory.width,t.height>window.innerHeight&&(t.height=window.innerHeight-40,t.width=this.adFactory.width*t.height/this.adFactory.height)):this.adFactory.forceDimensions&&(t.height=this.adFactory.height,t.width=this.adFactory.width)),t},g.prototype.getCreativeAvaSize=function(t){var e=t||{width:16,height:9},i=this.config.ava.width||this.avaDefaultWidth.desktop;this.adFactory&&this.adFactory.width&&this.adFactory.forceDimensions?i=this.adFactory.width:this.device.desktop()||!this.config.ava||this.config.ava.width||(i=this.avaDefaultWidth.mobile);var n=Math.round(i*e.height/e.width);if(this.adFactory&&this.adFactory.height&&this.adFactory.forceDimensions)n=this.adFactory.height;else if(this.player&&this.player.vast){var r=a.getCreativeHeight(i,this.player.vast.mediaFileSelected);("16:9"!==a.getRatioAsString(i,r)||this.adFactory||a.isVerificationTag(this.player))&&(n=r)}return{width:i,height:n}},g.prototype.onAdFactoryVpaidSSPSize=function(t){this.sspSize=t[0],this.sspSize.w=parseInt(this.sspSize.w,10),this.sspSize.h=parseInt(this.sspSize.h,10),this.sspSizeBanner()&&(this.reference&&this.reference.setAttribute("style",this.buildReferenceStyle()),this.frameContainer&&"SMInHome"===this.getPluginName()&&(this.frameContainer.setAttribute("style",this.buildFrameContainerStyle()),this.player.resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight)),this.frameContainer&&"SMInImage"===this.getPluginName()&&(this.updateFrameContainerStyle(),this.resizePlayer()))},t.exports=g},function(t,e){var i="static.sunmedia.tv",n="https://"+i,r="https://track"+i.substr(i.indexOf(".")),o=n+"/SMSdk/";t.exports={CLOSE_MILLISECONDS:8e3,HOST:n,HOST_TRACKER:r,SDK_PATH:o,SDK_CSS_PATH:"https://static.sunmedia.tv/SMSdk/css/",SDK_ICO_PATH:"https://static.sunmedia.tv/SMSdk/ico/",SDK_EXTRA_PATH:"https://static.sunmedia.tv/SMSdk/extra/",SDK_GEO_PATH:"https://static.sunmedia.tv/SMVpaidCreatives/geotarget/eu_country.php",SDK_COUNTRY_PATH:"https://services.sunmedia.tv/geotarget/country.php",SM_GEO_WINDOW_KEY:"SMGDPRKey",SM_AD_BLOCKER_DETECT_JS_PATH:"https://static.sunmedia.tv/SMSdk/assets/AdBlockDetection/adblockDetector.min.js",SM_PRIORITY:{CLIENT:"client",SUN_MEDIA:"sm"},SDK_DEFAULT_TRACKER_OUTSTREAM:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/outstream.json",SDK_DEFAULT_TRACKER_INSTREAM:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/instream.json",SDK_DEFAULT_TRACKER_NATIVE:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/native.json",SDK_DEFAULT_TAG_PATH:"https://static.sunmedia.tv/SMSdk/tracker/",TRACKERS:{AD_IMPRESSION:"AdImpression",AD_VIDEOSTART:"AdVideoStart"},EVENTS:{SM:{PLAYER_FULLSCREEN_EXIT:"SM_PLAYER_FULLSCREEN_EXIT",UPDATE_CONFIG_OPTIONS:"SM_UPDATE_CONFIG_OPTIONS",TAGS_BLOCK_CHANGED:"SM_TAGS_BLOCK_CHANGED",UNFILLED:"SM_UNFILLED",TRACKER:"SM_TRACKER",NON_STARTED:"SM_NON_STARTED",UPDATE_TRACKER:"SM_UPDATE_TRACKER"},AD:{TRACKER:"AdTracker"},AD_FACTORY:"SMAdFactory",AD_FACTORY_SSP_VPAID_SIZE:"SMAdFactorySSPVpaidSize",AD_FACTORY_IMPRESSION:"SMAdFactoryImpression"},STRICT_USER_CONSENT:["21d59bad-6ed2-4a81-a742-b71a242144dd"],AD_FACTORY_EVENT:"SMAdFactory",AD_FACTORY_SSP_VPAID_SIZE_EVENT:"SMAdFactorySSPVpaidSize",SM_EVENTS:{UPDATE_CONFIG_OPTIONS:"SM_UPDATE_CONFIG_OPTIONS",TAGS_BLOCK_CHANGED:"SM_TAGS_BLOCK_CHANGED",UNFILLED:"SM_UNFILLED",SM_AD_TRACKER:"SM_TRACKER",SM_UPDATED_TRACKER:"SM_UPDATED_TRACKER",SM_PLAYER_FULLSCREEN_EXIT:"SM_PLAYER_FULLSCREEN_EXIT"},NON_START:["vpaid.adsafeprotected.com"],PLG_NAMES:{SMInHome:"inhome-1-0",SMInImage:"inimage-1-0",SMInText:"intext-1-0",Native:"native-2-0"}}},function(t,e){function i(t,e){var i="inner"+e,n="client"+e;return(t=t||window)[i]?t[i]:t.document&&t.document.documentElement&&t.document.documentElement[n]?t.document.documentElement[n]:void 0}function d(t){return i(t,"Width")}function o(t){return i(t,"Height")}function a(t,e){for(var i=[],n=0;n<t.length;n++)t[n].getAttribute("itemprop")&&t[n].getAttribute("itemprop")===e&&i.push(t[n]);return i}function c(t,e){var i;try{if(-1<e.indexOf(".")||-1<e.indexOf("#"))i=t.document.querySelectorAll(e);else if(t.document.getElementById(e))i=[t.document.getElementById(e)];else if(0<t.document.getElementsByClassName(e).length)i=t.document.getElementsByClassName(e);else{var n=t.document.getElementsByTagName("div"),r=t.document.getElementsByTagName("article"),o=a(n,e),s=a(r,e);i=o.concat(s)}}catch(t){}return i}function l(t,e){var i;t.style.zIndex&&(i=t.style.zIndex);var n=e.getComputedStyle(t).getPropertyValue("z-index");return n&&(i=n),i}function n(t,e){var i,n=!1,r=[];for(r.unshift(t);t.parentNode&&t.parentNode!==e.document.body;)t=t.parentNode,r.unshift(t);for(var o=0;o<r.length;o++){var s=r[o];if(s.style){var a=e.getComputedStyle(s).getPropertyValue("position");if(!n&&"static"!==a){var d=l(s,e);d&&(i=d),n=!0}}}return i}t.exports={getCurrentSMScript:function(t){return document.currentScript?document.currentScript:(e=t,i=document.getElementsByTagName("script"),Array.prototype.filter.call(i,function(t){return-1!==t.src.indexOf(e)})[0]);var e,i},getWindowHeight:o,isOutOfScreen:function(t,e){e=e||window;var i=t.getBoundingClientRect(),n=Math.floor(i.left),r=Math.floor(i.width),o=Math.floor(d(e));return n<0||o<n+r},isScrolledIntoView:function(t,e,i){var n=t.getBoundingClientRect(),r=o(e);return n.top>=i&&n.bottom<=r},isScrolledBellowView:function(t){return t.getBoundingClientRect().top<0},isScrolledOutOfAvaRegion:function(t,e){var i=t.getBoundingClientRect(),n=o(e)-50;return 100<=i.top&&i.bottom<=n},isScrolledOutOfAvaRegionNativeFrame:function(t,e){var i=t.getBoundingClientRect(),n=o(e);return 0<=i.top&&i.top<=n/2},getContainerByClassNameListAndPos:function(t,e,i){var n,r,o;"string"==typeof e&&(e=e.split(","));for(var s=0;s<e.length;s++)try{if((n=c(t,e[s].trim().trim()))&&0<n.length)break}catch(t){}return void 0===(o=i)&&(o=0),o>=(r=n).length&&(o=r.length-1),r[o]},getElementsByClassNameList:function(t,e){var i;"string"==typeof e&&(e=e.split(","));for(var n=0;n<e.length;n++)try{if((i=c(t,e[n].trim().trim()))&&0<i.length)break}catch(t){}return i},getContainerInScreen:function(t,e){for(var i,n,r,o,s=null,a=0;a<t.length;a++)!1==(i=t[a],n=e,r=i.getBoundingClientRect(),o=d(n),r.left<0||r.left+r.width>o)&&(s=t[a]);return s},getElementPosition:function t(e){if(!e)return{x:0,y:0};var i=e.offsetParent;null===i&&(i=e.parentNode);var n=t(i),r=e.offsetTop||0;return{x:(e.offsetLeft||0)+n.x,y:r+n.y}},getZIndexFromElm:l,getZIndexFromAncestors:n,getZIndex:function(t,e){if(!t)throw new Error("container is undefined");var i=n(t,e);return 0!==i&&"auto"!==i||!t.style||(i=l(t,e)),0!==i&&"auto"!==i||(i=1),i},createStyleElement:function(t,e,i){var n=t.document.getElementById(e);if(!n)if((n=t.document.createElement("style")).setAttribute("id",e),n.setAttribute("type","text/css"),n.styleSheet)n.styleSheet.cssText=i;else{var r=t.document.createTextNode(i);n.appendChild(r)}return n},createLinkElement:function(t,e,i){var n=t.document.getElementById(e);return n||((n=t.document.createElement("link")).setAttribute("id",e),n.setAttribute("href",i),n.setAttribute("rel","stylesheet")),n},addClassToElement:function(t,e){-1===t.className.indexOf(e)&&(t.className+=" "+e)},removeClassFromElement:function(t,e){if(-1!==t.className.indexOf(e)){var i=t.className.split(" "),n=i.indexOf(e);-1<n&&i.splice(n,1),t.className=i.join(" ")}},getRootWindow:function(t){var e=t;try{for(;e.parent&&e!==e.parent;)e=e.parent}catch(t){}return e}}},function(t,e,i){var n=i(9),r=/(\${)([\w_.()]+)(})/gi,d=[{macroName:"random",replaceKey:"random"},{macroName:"request.referrerurl",replaceKey:"refEncode"},{macroName:"page_category",replaceKey:"category"},{macroName:"page_category.encode",replaceKey:"categoryEncode"},{macroName:"gdpr",replaceKey:"gdprApplies"},{macroName:"gdpr_consent",replaceKey:"consentData"},{macroName:"request.width",replaceKey:"width"},{macroName:"request.height",replaceKey:"height"},{macroName:"supply_chain",replaceKey:"supplyChain"},{macroName:"VALUE",replaceKey:"targeting"},{macroName:"publisherId",replaceKey:"publisherId"}];t.exports={replace:function(t,e){var a=Object.assign({},{categoryEncode:encodeURIComponent(e.category),refEncode:encodeURIComponent(n.isAMP()?window.context.canonicalUrl:window.location.href),random:Math.abs(Math.floor(1e9*Math.random()))},e);return t.replace(r,function(t,e,i){for(var n=0;n<d.length;n++){var r=d[n],o=r.macroName,s=r.replaceKey;if(i===o&&void 0!==a[s])return a[s]}return t})}}},function(t,e){function o(){o.prototype.isAMP=function(){return!0},o.prototype.getAMPContainerClass=function(){return"c"},o.prototype.isAMPStickyIntegration=function(){return"AMP-STICKY-AD"===window.context.container},o.prototype.requestResize=function(t,e,i){window.context.requestResize(t,e,i)},o.prototype.requestResizeUntilSuccess=function(t,e,i){this.isAMPStickyIntegration()||(this.unlisten&&this.unlisten(),this.unlisten=window.context.observeIntersection(function(){window.context.requestResize(t,e,i)}),window.context.onResizeSuccess(this.unlisten))},o.prototype.reportEntity=function(t){window.context.reportRenderedEntityIdentifier(""+t)},o.prototype.closeAd=function(){this.isAMPStickyIntegration()?window.context.noContentAvailable():i.requestResizeUntilSuccess(window.document.body.offsetWidth,0,!0)},o.prototype.getStickyAdMaxHeight=function(){return 100},o.prototype.convertSizesForStickyAd=function(t,e){var i,n,r=this.getStickyAdMaxHeight();return r<e?i=t*(n=r)/e:(i=t,n=e),{width:i,height:n}}}var i,n=window.context&&window.context.tagName&&-1<window.context.tagName.indexOf("AMP");i=n?new o:new function t(){for(var e=new o,i=Object.keys(Object.getPrototypeOf(e)),n=0;n<i.length;n++){var r=i[n];t.prototype[r]=function(){}}t.prototype.isAMP=function(){return!1}},t.exports=i},function(t,e){function o(t,e){return 0===e?t:o(e,t%e)}function n(t){var e=0,i=0;t&&(e=t.width,i=t.height),i&&"undefined"!==i||(e=640,i=360);var n=o(e,i),r=e/n+":"+i/n;return t&&t.apiFramework&&"vpaid"===t.apiFramework.toLowerCase()&&(r="16:9"),r}function i(t){return-1<t.indexOf("https://tpc.googlesyndication.com")}t.exports={selectRandomElementInArr:function(t){var e=t.length;return t[Math.floor(Math.random()*e)]},getCreativeHeight:function(e,t){try{var i=1;switch(n(t)){case"9:16":case"16:9":i=360*e/640;break;case"3:4":case"4:3":i=360*e/480;break;case"76:135":i=540*e/304;break;default:i=360*e/640}}catch(t){i=360*e/640}return i},getCreativeWidth:function(e,t){try{var i=1;switch(n(t)){case"9:16":case"16:9":i=640*e/360;break;case"3:4":case"4:3":i=480*e/360;break;case"76:135":i=304*e/540;break;default:i=640*e/360}}catch(t){i=640*e/360}return i},isAllowedToRun:function(e,t){var i=!0;return t&&0<t.length&&(i=!1,t.some(function(t){i=i||t===e})),i},forEachIFramesR:function t(e,i){for(var n=e.getElementsByTagName("iframe"),r=0;r<n.length;r++){var o=n[r];if(!o.src||-1===o.src.indexOf("http")&&-1===o.src.indexOf(".js"))try{o.contentWindow&&(i(o.contentWindow.document),t(o.contentWindow.document,i))}catch(t){}}},checkVpaidIFrame:function(t){var e=!1;if(t){var i=t.contentWindow.document.body;if(i&&i.childNodes)for(var n=0;n<i.childNodes.length;n++)if(i.childNodes[n]&&i.childNodes[n].tagName&&"script"!==i.childNodes[n].tagName.toLowerCase()){e="ias-ad"!==i.childNodes[n].tagName.toLowerCase();break}}return e},getFrameAVAStyle:function(t,e,i){var n=t.bottom||60,r="";return"top"===t.position?r+="width:"+e.width+"px!important;height:"+e.height+"px!important;left:"+(e.left||20)+"px;top: 20px;":"top_left"===t.position?r+="width:"+i.width+"px!important;height:"+i.height+"px!important;left:"+(i.left||20)+"px;top: 20px;":"top_right"===t.position?r+="width:"+i.width+"px!important;height:"+i.height+"px!important;right:"+(i.right||20)+"px;top: 20px;":"bottom"===t.position?r+="width:"+e.width+"px!important;height:"+e.height+"px!important;left:"+(e.left||20)+"px;bottom: "+n+"px;":"bottom_left"===t.position||"left"===t.position?r+="width:"+i.width+"px!important;height:"+i.height+"px!important;left:"+(i.left||20)+"px;bottom: "+n+"px;":"bottom_right"!==t.position&&"right"!==t.position||(r+="width:"+i.width+"px!important;height:"+i.height+"px!important;right:"+(i.right||20)+"px;bottom: "+n+"px;"),r},getPluginName:function(t){var e="";if(t&&t.constructor)if(void 0===t.constructor.name){var i=t.constructor.toString();e=(i=(i=i.substr("function ".length)).substr(0,i.indexOf("("))).trim()}else e=t.constructor.name;return"sm"+e},buildSunmediaTags:function(t,e,i){t=t||[];var n,r,o=(e=e||{}).VAST||[],s=e.BANNER||[];for(n=0;n<s.length;n++)(r=s[n])&&r.url&&""!==r.url&&(r.type="default",r.mode="banner",r.device=i,t.push(r));for(n=o.length;0<=n;n--)(r=o[n])&&r.url&&""!==r.url&&(r.type="default",r.mode="vast",r.device=i,t.unshift(r));return t},getRatioAsString:function(t,e){var i=o(t,e);return t/i+":"+e/i},isSelectedGoogleSyndicationTag:function(t){return i(t)&&-1<t.indexOf("pubads.g.doubleclick.net%2Fgampad%2Flive%2Fads%3Fsz%3D400x300%7C640x480%26vpos%3Dpreroll%26iu%3D%2F143394101%2Fca-video-pub-8221793852898543-tag%2FADXPG")},isSelectedSmartAdServerTag:function(t){return-1<t.indexOf("https://www8.smartadserver.com")&&-1<t.indexOf("siteid=334927&pgid=1231523&fmtid=43086")},isSelectedRichAudienceTag:function(t){return-1<t.indexOf("https://s.richaudience.com/vid/")&&(-1<t.indexOf("U3vKHMj75x")||-1<t.indexOf("nJcTdAqgGd"))},isSelectedSpotxChangeTag:function(t){return-1<t.indexOf("https://search.spotxchange.com/vast/2.0/")&&-1<t.indexOf("270673")},isSelectedMondelezTag:function(t){return i(t)&&(-1<t.indexOf("ADXMDLZChipsAhoy")||-1<t.indexOf("ADXMDLZOREO"))},isSelectedPubmaticTag:function(t){return-1<t.indexOf("https://vpaid.pubmatic.com/ads/video/vadtag.html")&&-1<t.indexOf("siteId=602317&adId=2278585")},isSelectedAppNexusTag:function(t){return-1<t.indexOf("https://secure.adnxs.com")&&-1<t.indexOf("id=19119770")},isVerificationTag:function(t){return!!(t&&t.vast&&t.vast.currentTagUrl)&&-1<t.vast.currentTagUrl.indexOf("https://vast.adsafeprotected.com/vast?anId=925802")},isFacebookApp:function(){var t=navigator.userAgent||navigator.vendor||window.opera;return-1<t.indexOf("FBAN")||-1<t.indexOf("FBAV")}}},function(t,e){var o=["https://vod.addevweb.com/sunmedia/demos/tags/normal.xml?3CQHtX","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075450847&ord=","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075450848&ord=","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075450849&ord=","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075462042&ord=","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075462041&ord=","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075474206&ord=","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075474207&ord=","https://vast.adsafeprotected.com/vast/fwjsvid/st/444283/45714873/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075450847&ord=","https://vast.adsafeprotected.com/vast/fwjsvid/st/444283/45714874/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075450848&ord=","https://vast.adsafeprotected.com/vast/fwjsvid/st/444283/45714875/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075450849&ord=","https://vast.adsafeprotected.com/vast/fwjsvid/st/444283/45714876/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075462042&ord=","https://vast.adsafeprotected.com/vast/fwjsvid/st/444283/45714877/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075462041&ord=","https://vast.adsafeprotected.com/vast/fwjsvid/st/446884/45841358/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075474206&ord=","https://vast.adsafeprotected.com/vast/fwjsvid/st/446884/45841359/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1075474207&ord="];function s(t){for(var e='div[data-id="'+t+'"], div[class*="'+t+'"], script[src*="'+t+'"]',i=document.querySelectorAll('div[id^="google_ads_"], div[aria-roledescription="Publicidad"]'),n=0;n<i.length;n++){var r=i[n],o=r.querySelectorAll(e);r&&r.parentNode&&0===o.length&&r.parentNode.removeChild(r)}}function a(t){for(var e=document.querySelectorAll('div[id*="_frame_"][data-device="mobile"], div[class*="-reference-"]'),i=0;i<e.length;i++){var n=!1,r=e[i],o=r.getAttribute("data-id");if(o)n=o===t;else n=-1<r.getAttribute("class").indexOf(t);r.parentNode&&!n&&r.parentNode.removeChild(r)}}t.exports={blockAds:function(t,e,i){try{for(var n=0;n<o.length;n++){var r=o[n];if(t&&-1<e.indexOf(r)){s(i),a(i);break}}}catch(t){}}}},function(t,e){var r="SM_DEBUG";function i(t,e,i){if(i=i||"font-weight:bold",-1<window.location.toString().indexOf(r)||!0===window[r]){var n="SM"+t.toUpperCase()+":";i?console[t].apply(console,["%c"+n,i,e]):console[t].apply(console,[n,e])}}t.exports={SM_DEBUG_WINDOW_KEY:r,warning:function(t){i("warn",t)},error:function(t){i("error",t)},info:function(t){i("info",t,"color: blue; font-weight:bold")},log:function(t){i("log",t)}}},function(t,e){t.exports={checkForScreenHunter:function(defaultConfig){try{var t=function(){var t;try{var e=decodeURIComponent(location.hash);if(-1<e.indexOf("smsh=")){var i=e.indexOf("=");t=e.substring(i+1)}}catch(t){}return t}();"string"==typeof t&&function(defaultConfig,t){defaultConfig.pod=!1,defaultConfig.loop.enabled=!1,defaultConfig.priority="sm",defaultConfig.tags.sm&&(defaultConfig.tag=[{url:t.trim(),trafficType:"DIRECT"}])}(defaultConfig,t)}catch(t){}}}},function(t,e){function i(){this._listeners={}}i.prototype.hasEventListener=function(t){return t in this._listeners},i.prototype.addEventListener=function(t,e){if(!e||"function"!=typeof e)throw new Error("The listener must be a function or have an on function");this.hasEventListener(t)?this._listeners[t].push(e):this._listeners[t]=[e]},i.prototype.removeEventListener=function(t,e){if(this.hasEventListener(t)){var i=this._listeners[t].indexOf(e);this._listeners[t].splice(i,1)}},i.prototype.dispatchEvent=function(t,e){this.hasEventListener(t)&&this._listeners[t].forEach(function(t){"function"==typeof t&&t(e)})},t.exports=i},function(t,e,i){var n=i(12);function r(){this._intervals={}}r.prototype.stopInterval=function(t){try{this._intervals.hasOwnProperty(t)?(clearInterval(this._intervals[t]),delete this._intervals[t]):n.warning("Trying to clear an unregistered interval named: "+t)}catch(t){n.error(t)}},r.prototype.addInterval=function(t,e,i){this._intervals.hasOwnProperty(t)||(this._intervals[t]=setInterval(e,i))},t.exports=r},function(t,e,i){var r=i(6),l=i(17),h=i(18);function o(t,e,i,n,r){this._integrationId=t,this._position=e,this._defaultTracker=new h(i),this.trackerenabled=n,this.externalLogsCallback=r,this._commonTrackers={};var o=this.getCommonTrackers();for(var s in o)if(o.hasOwnProperty(s)){var a=o[s],d=this.buildTrackerUrl(s,1),c=new l(a);c.addUrl(d),this._commonTrackers[a]=c}}o.KEYS={OPPORTUNITY:"op",REQUEST:"req",EFFECTIVE:"ef",UNFILLED:"unf",IMPRESSION:"imp",VIDEO_START:"st",VIDEO_FQ:"fq",VIDEO_MP:"mp",VIDEO_TQ:"tq",VIDEO_COMPLETE:"co",SKIP:"sk",CLICK:"clk",CREATIVE_VIEW:"cv",VIEW_ABILITY:"vw",CONTAINER_SIZE_ERROR:"sizerr",REQUEST_ERROR:"reqe",ERROR:"err",PLAYER_IMPRESSION:"vimp"},o.OPPORTUNITY_TRACKER_NAME="opportunity",o.CONTAINER_SIZE_ERROR_TRACKER_NAME="container_size_error",o.REQUEST_TRACKER_NAME="request",o.EFFECTIVE_TRACKER_NAME="effective",o.UNFILLED_TRACKER_NAME="unfilled",o.VIEW_ABILITY_TRACKER_NAME="view_ability",(o.COMMON_TRACKER_CHOICES={})[o.KEYS.OPPORTUNITY]=[o.OPPORTUNITY_TRACKER_NAME],o.COMMON_TRACKER_CHOICES[o.KEYS.CONTAINER_SIZE_ERROR]=[o.CONTAINER_SIZE_ERROR_TRACKER_NAME],o.COMMON_TRACKER_CHOICES[o.KEYS.REQUEST]=[o.REQUEST_TRACKER_NAME],o.COMMON_TRACKER_CHOICES[o.KEYS.EFFECTIVE]=[o.EFFECTIVE_TRACKER_NAME],o.COMMON_TRACKER_CHOICES[o.KEYS.VIEW_ABILITY]=[o.VIEW_ABILITY_TRACKER_NAME],(o.VIDEO_TRACKER_COLLECTION={})[o.KEYS.IMPRESSION]=[r.TRACKERS.AD_IMPRESSION],o.VIDEO_TRACKER_COLLECTION[o.KEYS.VIDEO_START]=[r.TRACKERS.AD_VIDEOSTART],o.VIDEO_TRACKER_COLLECTION[o.KEYS.VIDEO_FQ]=["AdVideoFirstQuartile"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.VIDEO_MP]=["AdVideoMidpoint"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.VIDEO_TQ]=["AdVideoThirdQuartile"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.VIDEO_COMPLETE]=["AdVideoComplete"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.SKIP]=["skip","AdSkipped"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.CLICK]=["clickTracking"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.CREATIVE_VIEW]=["creativeView"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.VIEW_ABILITY]=["viewability"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.ERROR]=["error"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.REQUEST_ERROR]=["request_error"],o.VIDEO_TRACKER_COLLECTION[o.KEYS.PLAYER_IMPRESSION]=["player_impressiom"],o.prototype.buildTrackerUrl=function(t,e,i){var n=r.HOST_TRACKER+"/?ap=smptf";return n+="&it="+this._integrationId,n+="&tp="+t,n+="&pb="+e,n+="&pos="+this._position,n+="&loop="+(i="number"==typeof i?i:0)},o.prototype.getPBFromPriority=function(t){return r.SM_PRIORITY.SUN_MEDIA===t?1:0},o.prototype.setPBType=function(t){var e,i=this._videoTrackers;for(f in i)if(i[f]&&i[f].urlList&&0<i[f].urlList.length)for(e=i[f].urlList,g=0;g<e.length;g++){-1<e[g].indexOf("pbt=")?e[g]=e[g].replace(/(pbt=(\w))/,"pbt="+t.trafficType.substr(0,1).toLowerCase()):e[g]+="&pbt="+t.trafficType.substr(0,1).toLowerCase();var n="";"sm"!==t.type?n+="d":n+="s",n+=t.mode.substr(0,1).toLowerCase(),n+=t.device.substr(0,1).toLowerCase(),n+=t.position,-1<e[g].indexOf("pbid=")?e[g]=e[g].replace(/(pbid=(\w\w\w\d))/,"pbid="+n):e[g]+="&pbid="+n}},o.prototype.initVideoTracker=function(t,e){this._videoTrackers={};var i=this.getPBFromPriority(t),n=this.getVideoTrackers();for(var r in n)if(n.hasOwnProperty(r))for(var o=n[r],s=this.buildTrackerUrl(r,i,e),a=0;a<o.length;a++){var d=o[a],c=new l(d);c.addUrl(s),this._videoTrackers[d]=c}},o.prototype._isFireAlways=function(t){return this.isClickTracker(t)},o.prototype._fireTracker=function(t,e){if(this.trackerenabled&&(this._defaultTracker.check(e),t&&t.hasOwnProperty(e))){var i=t[e];if(!i.hasBeenFired()||this._isFireAlways(e))return"function"==typeof this.externalLogsCallback&&this.externalLogsCallback(e),i.fire()}},o.prototype.fireVideoTracker=function(t){return this._fireTracker(this._videoTrackers,t)},o.prototype.fireCommonTracker=function(t){return this._fireTracker(this._commonTrackers,t)},o.prototype.fireOpportunity=function(){return this.fireCommonTracker(o.OPPORTUNITY_TRACKER_NAME)},o.prototype.fireContainerSizeError=function(){return this.fireCommonTracker(o.CONTAINER_SIZE_ERROR_TRACKER_NAME)},o.prototype.fireRequest=function(){return this.fireCommonTracker(o.REQUEST_TRACKER_NAME)},o.prototype.fireEffective=function(){return this.fireCommonTracker(o.EFFECTIVE_TRACKER_NAME)},o.prototype.fireViewAbility=function(){return this.fireCommonTracker(o.VIEW_ABILITY_TRACKER_NAME)},o.prototype.fireUnfilled=function(t,e){var i=this.getKEYS(),n=new l(o.UNFILLED_TRACKER_NAME);if(t&&n.addUrl(this.buildTrackerUrl(i.UNFILLED,1)),e&&n.addUrl(this.buildTrackerUrl(i.UNFILLED,0)),!n.hasBeenFired())return n.fire()},o.prototype.getKEYS=function(){return this.constructor.KEYS||o.KEYS},o.prototype.getCommonTrackers=function(){return this.constructor.COMMON_TRACKER_CHOICES||o.COMMON_TRACKER_CHOICES},o.prototype.getVideoTrackers=function(){return this.constructor.VIDEO_TRACKER_COLLECTION||o.VIDEO_TRACKER_COLLECTION},o.prototype.isValidTracker=function(t,e){return-1<this.getVideoTrackers()[t].indexOf(e)},o.prototype.isSkipTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.SKIP,t)},o.prototype.isClickTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.CLICK,t)},o.prototype.isImpressionTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.IMPRESSION,t)},o.prototype.isVideoStartTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.VIDEO_START,t)},o.prototype.isBillingTracker=function(t){return this.isImpressionTracker(t)||this.isVideoStartTracker(t)},o.prototype.updateTracker=function(t){var e,i=[{k:"system",l:"AdSystem",value:""},{k:"title",l:"AdTitle",value:""},{k:"category",l:"Category",value:""},{k:"advertiser",l:"Advertiser",value:""},{k:"pricing",l:"Pricing",value:""},{k:"servingid",l:"AdServingId",value:""}];for(e=0;e<i.length;e++){var n="";try{n=t.getElementsByTagName(i[e].l)[0].textContent.trim()}catch(t){}i[e].value=n}this._defaultTracker.updateAdMacro(i)},t.exports=o},function(t,e){function i(t){this.name=t,this._init_()}i.prototype._init_=function(){this.counter=0,this.urlList=[]},i.prototype.reset=function(){this._init_()},i.prototype.hasBeenFired=function(){return 0<this.counter},i.prototype.addUrl=function(t){this.urlList.push(t)},i.prototype._parseUrlToTrigger=function(t){if(t){var e=-1<t.indexOf("&amp;")?t.replace(/&amp;/g,"&"):t;return-1<e.indexOf("videoplaza")&&-1<e.indexOf("s=")?e.replace(/%2F/g,"/"):e}return!1},i.prototype.fire=function(){var i=this;return this.urlList.forEach(function(t){var e=i._parseUrlToTrigger(t);e&&((new Image).src=e)}),this.counter++,this},i.prototype.indexOfUrl=function(t){for(var e=0;e<this.urlList.length;e++)if(-1!==this.urlList[e].indexOf(t))return e;return-1},i.prototype.removeUrl=function(t){var e=this.indexOfUrl(t);-1<e&&this.urlList.splice(e,1)},t.exports=i},function(t,e){function i(t){this.keys=["opportunity","effective","request","impression","complete","firstquartile","midpoint","thirdquartile","click"],this.defaultTrackers=t}i.prototype.check=function(t){if(this.defaultTrackers&&0<this.defaultTrackers.length)for(var e=0;e<this.defaultTrackers.length;e++)this.defaultTrackers[e].event!==this.getKey(t)||this.defaultTrackers[e].fired||this._fire(this.defaultTrackers[e])},i.prototype.updateAdMacro=function(t){if(this.defaultTrackers&&0<this.defaultTrackers.length)for(var e=0;e<this.defaultTrackers.length;e++)if(t)for(var i=0;i<t.length;i++){var n="[ad."+t[i].k+"]",r=t[i].value;this.defaultTrackers[e].data=this.defaultTrackers[e].data.replace(n,r)}},i.prototype.getKey=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e].toLowerCase()===t.toLowerCase()||-1<t.toLowerCase().indexOf(this.keys[e]))return this.keys[e].toLowerCase();return""},i.prototype._fire=function(t){try{switch(t.type.toLowerCase()){case"image":(new Image).src=t.data;break;case"script":var e,i,n=document.createElement("div");if(n.innerHTML=t.data,(e=n.getElementsByTagName("script"))&&0<e.length){for(var r=0;r<e.length;r++)i=document.createElement("script"),e[r].src?i.src=e[r].src:window.eval(e[r].innerHTML);document.getElementsByTagName("head")[0].appendChild(i)}break;case"html":var o=document.createElement("div");o.innerHTML=t.data,document.body.appendChild(o)}}catch(r){}t.fired=!0},t.exports=i},function(t,e,i){var h=i(6),u=i(15),p=i(20),f=i(10),m=i(7),g=i(21),v=i(3),y=i(23),A=i(32),T=i(9);function n(s,o,a,t,e,d){(a=v.extend({skip:!0,skipTime:20,autoplay:!0,audio:!1,prefetch:!1},a)).autoplay=!1,this.config=a,this.api=d,this.muted=!a.audio,this._skip=this.config.skip;var c=this;this.playBackIntervalName="playBackTimer",this.intervalManager=new u,this.release="4.1",this.files=h.SDK_ICO_PATH,this.volumeSwitched=!1,this.adCurrentTime=0,this.mainWidth=0,this.mainHeight=0,this.ava_enabled=!1,this.state="init",this.plugin=s,this.device=t,this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.oversafari="init",this.win=e,this.cssfiles=v.memoize(v.getBasePathMainJS)()+"css/";var i="number"!=typeof a.initialWidth?Math.round(o.getBoundingClientRect().width):a.initialWidth,n=Math.round(360*i/640),r={supplyChain:a.supplyChain,gdprApplies:a.gdprApplies,consentData:a.consentData,category:encodeURIComponent(a.category),height:n,width:i};f.isFacebookApp()&&(r.targeting="FB"),c.urlFeed=new g(r),c.w=i,c.h=n,c.isWebView=p.isWebView();var l=c.isWebView?"hidden":"visible";this.toggleVolume=function(){this._setVolume(!this.muted)},this.onMouseEnter=function(){this._setVolume(!1)},this.onMouseLeave=function(){this._setVolume(!0)},this._setVolume=function(t){this.setVolume(t),this.volumeSwitched=!0},this.setVolume=function(t,e){if(!this.vast||!this.adCurrentTime||"playing"!==this.state&&!0!==this.isAdFactory)return!1;if(this.muted=t,e=void 0!==e?e:1,"playing"===this.state||"paused"===this.state){this.vast.setVolume(this.muted?0:e),this.adPlayer.volume=t?0:e;var i=this.muted?"iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAvVBMVEUAAAD9/f38/Pz+/v7s7OwaGhr+/v739/cAAAD39/f9/f0wMDD8/Pz9/f37+/vNzc3Q0ND7+/vV1dX8/Pz5+fnw8PC9vb3Ly8uMjIxnZ2ff39/4+Pju7u7S0tL5+fnCwsL39/f19fXy8vLz8/NVVVVFRUX////v7+/Y2Njr6+usrKybm5t9fX0AAAAAAAAAAAD8/Pz19fXx8fHIyMg7Ozvn5+dycnLp6enb29u3t7elpaXi4uKxsbGXl5fk5ORvx7c5AAAAP3RSTlMm9uz4sir61gDY8i7t9Od4e+mC8eS+ZnRGOZPctn7ga9rTxso1Mf27hq1YTkAhEwrvzcFxL6I9p4thU5pcS5yLjhx7AAAEGElEQVRo3u2aaXPaMBCGtV5LrmXZxhcYbMx9kzaQkLPt//9ZNR3S8dE41MiZ6QzvJ5gxPKxWu6zeEfmS6usNaUo3X4+AlPKNNKtvKaUMkY9JKaRxpYyvpHGljBvSuFLGVVddddVV0kUHgzZpWtR1vNHpdWi/Hnr9dZdKp3S0+Vw5vW5PFM49YWnxcmNIZBh9Hedz7w9FcG4Cgun5C/tBGqWlITL2FkvYf1yMR77jpSRTGT115eTEHiLqAEo+vo0b6w5HFCN3KgFyjETvKCmlqO4gTkyGlrq+eCfYGqDukhOlqBfVB+TacnZZ4t0hotYy3qMQ2l44iP6qe1kkiHqLkAylqG5PA+aswvqRtHTEoWvkKGWtJx5T4vCSxGsdQj6gkE0smIi3Nbewjqi79GMKCVXBnMN93eXSbErOoJBt7LGkX7Pi9fSDZ1FIOAYcrf85EvsYSd84l0IGQ8bj6i7Q7qkFBT6ibhNSooRqZEWT3rqYBNpTmNWqpAQCoSBEzaV/owQcATw/aBUKcboHGFe2aJ/NixQ+6pwgxVgS4XFAcPYDI78gCTpuFUVBUAvqtclR5bzQWdg+7BwTQevRXCpVDpNSpyl/x/lPTAcLC5n/mkv3s4/OnURKqpmtAUty0RgBmLFEyumvGXA4yPVWgclWMoWsdwj7bCK6EXq2bAqxfSZ6uYoAUKVT7leAo2wwS46adApZW0xkd9XmllmGdAoJTDO7RIbDxEY+peXhMLuZI/Q68imhgk62MifAe/Ip1MfcEgXAH+VTSAS3z5m3MZirBigJeFnKohEKtfD2R27FzAZWLBTozBrPfssDPZ8m70465X5h8mxVzhwUP6RT2j5a2d/+0kSHmcUmjLPd8qmBbkmXTn6eoAGYK9mUtoYQZEN5SKraGFEYlEaYjyj0eQJMH+R2nMBoWzWPsepxrEyZLnXAaJl96H4PXK2eLatGyzLF6IwVxKhHiztu8C9zcpCcxuQyhXZf7JWmIOOjp2mueGITJtNaI3+ZshwJjyNDK/5emPp9dPo1jy9ligUA3AruCuX3cJzGu3WOYnqHlij9caIHTy+0+PxPwfxOPWdEc+mZFXUXMa7O6phiv72R8yg/xoC7F1JDtPP7kGycQQkDziKb1FP/ZF18fBJPm/FPo7Z5cbJhqinfF4Ip6sOlllI15XnHmbXaXm6P0fcpD68RMuewlWD1ueIdCr3bK4jJYSrDttT43ynrhXVsaO69FAsWGZYpXXtvAQP/cSPJTsb5XBTc0eViqJiIyq4zk2WN6/O59WYf9R+D3dAS3AQwnZ1bn1HuApE1fiuOsTBNQATzNlEHMyJT7Xb7D0Xh3q2wNLUVUtKUtvbr4WkQGuSqq6666qr/6t7NzSfdU/pCmtfn3B/7pLtwn3Ov7xeYwU213Se1GAAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAXVBMVEUAAAD8/Pz+/v7+/v6KioqFhYX7+/vu7u5/f3/r6+sAAADv7+/s7Oz////p6enw8PDx8fH9/f10dHT39/fs7OwAAAAAAAAAAAAAAAC8vLz5+fn09PTt7e3o6Oi8vLw06Bc/AAAAH3RSTlMm7vz4RUTqtkGsALqx/qi9wfE+2bAkIRMKZeDNsqVm/TFS9QAAAgJJREFUaN7tmttu4jAURbft40tKEgIJ12n7/585ONLoTIG0qsiOFMnrkZcl42PvDTLebpyOYHE8ZcHNcj6AyeGcLWewOd8sB7A5vOEEPiccweeIQqFQKKwU6boINim65goyEk3T7MBlXwVLt6TO2OCcARNfGWuqHdciMVjT7Q3VItHYUCVQLak21kQPqsVvskRAtaS88bWAZdGVbBKoFhnyCHtQLVKHcSVUi2yMDYMH1ZLaMG78c4tcLoJf89GbO3bOho1gwnL501f+eUTEdtLS28beE1rBpKV3ZvtEI21w02lnGnu/lmtMmLRIPkitf9zLYMM3FmswiVoUvzX2YTVSGxva9LpFNW0+TPLloyGPvmAei64mRIFufB79WjCrBb4K+br+EnaDYFaLRo+uxGw8ZrZojP7beJONM1u0EkgOO13JrBatNzGNEVEnkCxjVTPbUSJgWHQEnNOI4FiQOtc0Lnqs3/L/N7bu3b+f5PWeymc3zDpvy6mbf30p9kIis9tFY78rSq83JW19j6Vv5tb30U8V2Ncb7M9lfMoin59C+GGhFsKPpK0nWyCDzhHLomeCatHzTbXoXUW16L1LtWiGUC2ah1SLZjvToj1lR7Ro53KWZ9ER4P/TixQD06LZ6OwVdPbv7y0KhUKhsG4WeduzzDulRd5cLfN+bKG3cMu86/sLjm0XKsolsPgAAAAASUVORK5CYII=";this.adVolume.style.backgroundImage="url('data:image/png;base64,"+i+"')"}},this.loadTag=function(t,e){c.urlFeed.addMultiformatUrls(t,e,this.device)},this.setTagPriority=function(t){c.urlFeed.setTagPriority(t)},this.setTagPriorityToSunMedia=function(){c.urlFeed.setTagPriorityToSunMedia()},this.start=function(){c.platformAdImpressionEmitted=!1,c._urlFeedBlockHasBeenChanged=!1,c.urlFeed.reset(),c.vast=new y(c.plugin,c.adVpaid,c.adPlayer,"",c.urlFeed,a,c.device,d),c.vast.addListener("all",c),this.addStyleSheet(),(SMCurrentPlayer=this).auxBanner.style.display="none",this.adPlayer.style.display="block";try{this.vast.getVastRequest()}catch(t){v.debug(t,v.debugLevel.ERROR)}},this.startMobile=function(){"prefetch"===this.state&&this.vast.loadAd()},this.addStyleSheet=function(){var t=this.device.desktop()?"SMPlayer_d":"SMPlayer_m";if(!this.win.document.getElementById(t)){var e='<link id="'+t+'" href="'+(h.SDK_CSS_PATH+"SMVast/"+t+".css?v=2020040701")+'" rel="stylesheet" type="text/css">';this.win.document.head.insertAdjacentHTML("beforeend",e)}},this.blockerOnClick=function(){this.vast&&this.vast.clickVastVideo()},this.prepareCreative=function(){var t=c.vast.mediaFileSelected&&c.vast.mediaFileSelected["@width"]?c.vast.mediaFileSelected["@width"]:640,e=c.vast.mediaFileSelected&&c.vast.mediaFileSelected["@height"]?c.vast.mediaFileSelected["@height"]:360;c.ratio=Math.round(100*c.getRatio(t,e))/100,c.creativeHeightOut=0;var i,n=this.vast.currentTagUrl;-1<n.indexOf("nvvtlsm")&&((i=parseInt(n.substr(n.indexOf("nvvtlsm=")+8,1),10))&&1===i&&(c.ratio=1.77));switch(c.ratio){case 1.77:c.creativeHeightOut=360*c.w/640,c.creativeType="normal";break;case 1.33:c.creativeHeightOut=360*c.w/480,c.creativeType="square";break;case.56:c.creativeHeightOut=540*c.w/304,c.creativeType="vertical";break;case.57:c.creativeHeightOut=576*c.w/326,c.creativeType="vertical";break;default:c.creativeHeightOut=360*c.w/640,c.creativeType="normal"}},this.on=function(t,e){switch(t){case"AdLoaded":"mobile"!==c.device.mobileDesktop||"SMIntext"!==s&&"SMInHome"!==s||(c.isSelectedSpotxTag=f.isSelectedSpotxChangeTag(c.vast.currentTagUrl),c.isSelectedRichAudienceTag=f.isSelectedRichAudienceTag(c.vast.currentTagUrl),c.isSelectedMondelezTag=f.isSelectedMondelezTag(c.vast.currentTagUrl),(c.isSelectedSpotxTag||c.isSelectedRichAudienceTag||c.isSelectedMondelezTag)&&(c.config.skip=!1)),e&&e.width&&e.height&&(c.w=e.width,c.h=e.height),this.prepareCreative(),"vertical"===c.creativeType&&(this.adPlayer.style.backgroundColor="transparent",c.emit(h.EVENTS.SM.UPDATE_CONFIG_OPTIONS,{ava:!1}),this.adPlayer.parentNode.className="SMMaximize_"+this.api);break;case"AdStarted":if("vertical"===c.creativeType&&c.emit(h.EVENTS.AD_FACTORY,{provider:"Creative",type:c.creativeType,width:this.w,height:c.creativeHeightOut,responsive:!0}),this.adPlayer.style.backgroundColor="#000",c.isWebView&&(c.adPlayer.style.visibility="visible"),c.toggleButtons("block"),c.vast.isVPAID)try{if("mobile"===c.device.mobileDesktop)c.adPlayer.onclick&&"function"==typeof c.adPlayer.onclick&&-1===c.adPlayer.click.toString().indexOf("[native code]")?c.adVpaid.style.zIndex=0:c.adPlayer.click&&"function"==typeof c.adPlayer.click&&-1===c.adPlayer.click.toString().indexOf("[native code]")?c.adVpaid.style.zIndex=0:!1===c.checkVpaidContainer()?c.adVpaid.style.zIndex=0:c.adVpaid.style.zIndex=3,c.blocker.style.zIndex=0;else{c.adVpaid.style.zIndex=3,c.blocker.style.zIndex=0;var n=document.createElement("style");n.innerHTML="body { cursor: pointer !important;}body * { cursor: pointer !important;}";var i=document.getElementById("SMVPAIDContainer_"+d).getElementsByTagName("iframe"),r=function(t){var e;for(e=0;e<t.length;e++){var i=t[e];if(!i.src||-1===i.src.indexOf("http")&&-1===i.src.indexOf(".js"))try{i.contentWindow&&(i.contentWindow.document.getElementsByTagName("head")[0].appendChild(n),0<i.contentWindow.document.getElementsByTagName("iframe").length&&r(i.contentWindow.document.getElementsByTagName("iframe")))}catch(t){}}}}r(i)}catch(t){}else c.vast.IMA?(c.adVpaid.style.zIndex=0,c.blocker.style.zIndex=0):(c.vast.isYoutube?c.adVpaid.style.zIndex=3:c.adVpaid.style.zIndex=0,c.blocker.style.zIndex=3,c.blocker.onclick=this.blockerOnClick.bind(this));c.initButtons(),c.state="playing",T.isAMP()||c.checkFrames(),c.emit("AdPlaying"),c._setPlayBackTimerInterval(),"mobile"!==c.device.mobileDesktop||"SMIntext"!==s&&"SMInHome"!==s||(c.isSelectedSpotxTag||c.isSelectedRichAudienceTag||c.isSelectedMondelezTag)&&setTimeout(function(){c.setVolume(!1,.001)},2e3),c.muted||setTimeout(function(){c.setVolume(!1)},1e3);break;case"NoVideoReminderImpression":this.platformAdImpressionEmitted||(this.emit(h.EVENTS.SM.TRACKER,h.TRACKERS.AD_IMPRESSION),this.platformAdImpressionEmitted=!0);break;case"AdSkipped":case"AdVideoComplete":case"AdError":this.config.skip=this._skip,this.isAdFactory=!1,this.disableButtons=!1,c.toggleButtons("none"),this.adPlayer.style.backgroundColor="transparent",this.adPlayer.style.display="block";break;case"AdComplete":!0===e.fireUnfilledTrackers&&c.emit(h.EVENTS.SM.UNFILLED);var o=!1;if(0===e.playedAdsCount&&a.pod&&!c._urlFeedBlockHasBeenChanged&&(c._urlFeedBlockHasBeenChanged=!0,c.urlFeed.changeFeedList())){o=!0,c.emit(h.EVENTS.SM.TAGS_BLOCK_CHANGED);try{c.vast.getVastRequest()}catch(t){v.debug(t,v.debugLevel.ERROR)}}if(o)return;c.toggleButtons("none"),this.adPlayer.style.backgroundColor="transparent",c._stopPlayBackTimerInterval(),c.fullscreen&&"smpvplayer"!==this.plugin&&this.exitFullscreen(),c.vast=null;break;case"AdClickThru":this.enablePlayBtn=e&&e[0]&&e[0].showPlayBtn,c.pauseAd(),e&&e[0]&&e[0].playing&&setTimeout(function(){v.setWindowFocusDetection(c.checkWindowFocus)},500);break;case"AdPaused":if("end"===c.state)return;c.state="paused",c.setPlayBtnDisplay("block"),c._stopPlayBackTimerInterval();break;case"AdPlaying":if("end"===c.state)return;c.state="playing","first"!==c.oversafari&&c.setPlayBtnDisplay("none"),this.adPlayer.style.backgroundColor="#000",c._setPlayBackTimerInterval(),this.enablePlayBtn&&(this.enablePlayBtn=!1);break;case"AdDurationChange":break;case"AdEnded":if(this.config.skip=this._skip,0===e.playedAdsCount&&a.pod&&!c._urlFeedBlockHasBeenChanged)return;c.state="end",c.toggleButtons("none");break;case"SMImaLoaded":break;case"AdVideoStart":c.state="playing";break;case"AdPrefetch":c.state="prefetch";break;case"AdRemainingTimeChange":break;case"AdVideoFirstQuartile":this.emitBillingTrackers();break;case h.EVENTS.SM.UPDATE_CONFIG_OPTIONS:e.hasOwnProperty("sound")&&(c.smAudioOn=e.sound),e.hasOwnProperty("skip")&&(c.config.skip=e.skip);break;case h.EVENTS.AD_FACTORY:this.onAdFactory(e);break;case h.EVENTS.AD_FACTORY_IMPRESSION:this.emitBillingTrackers()}c.emit(t,e)},this.checkVpaidContainer=function(){var t,e,i=this.win.document.getElementById("vpaid_creative_"+d),n=!1;if(i&&(t=i.contentWindow.document.body)&&t.childNodes&&0<t.childNodes.length)for(e=0;e<t.childNodes.length;e++)if(t.childNodes[e]&&t.childNodes[e].tagName&&"script"!==t.childNodes[e].tagName.toLowerCase()){n="ias-ad"!==t.childNodes[e].tagName.toLowerCase();break}return n},this.getRatio=function(t,e){return t/e},this.checkFrames=function(){try{var t=o.getElementsByTagName("iframe");if(t&&0<t.length)for(var e=0;e<t.length;e++)"absolute"!==t[e].style.position&&(t[e].style.position="absolute"),t[e].style.top="0px",t[e].style.left="0px",t[e].style.width=this.adPlayer.offsetWidth+"px",t[e].style.height=this.adPlayer.offsetHeight+"px"}catch(t){}},this.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},this.requestFullscreen=function(){var t=o;t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullscreen()},this.onFullscreenChange=function(){var t,e;this.fullscreen?(this.fullscreen=!1,m.removeClassFromElement(o,"fullscreenOn"),this.emit(h.EVENTS.SM.PLAYER_FULLSCREEN_EXIT)):(this.fullscreen=!0,o.className="fullscreenOn",e=360*(t=window.innerWidth)/640,this.resize(t,e,"fullscreen"))},this.setCreativeSize=function(t,e,i){this.ratio=i,this.mainWidth=t,this.mainHeight=e,this.mainAvaWidth=400,this.mainAvaHeight=400*e/t},this.removeCurrentAd=function(){this.adPlayer.src="";try{this.adVpaid.firstChild.style.display="none"}catch(t){}},this.doRestart=function(){this.vast&&this.vast.requestTracker&&(this.vast.requestTracker=!1),this.emit("AdReplay"),this.start(),this.platformAdImpressionEmitted=!1,this.adPlayer.style.display="block"},this.displayRestart=function(t){var e=this.auxBanner,i=document.createElement("div");if(i.className="replay",(this.restartButton=i).onclick=function(){i.style.display="none",c.doRestart()}.bind(this),e.appendChild(i),t){var n=document.createElement("div");n.setAttribute("id","closeButton"),n.setAttribute("class","closeButton"),n.onclick=function(){i.style.display="none",e.removeChild(n),t()},n.style.display="block",e.appendChild(n)}this.adPlayer.style.display="none",this.auxBanner.style.display="block"},this.resize=function(t,e,i,n){return!("playing"!==this.state&&"paused"!==this.state&&!n)&&(parseInt(t,10)&&parseInt(e,10)?(i=i||"normal",this.h=e,this.w=t,o.height=e,o.style.height=e+"px",o.width=t,o.style.width=t+"px",this.vast&&this.vast.resizeAd(t,e,i),e):void 0)},this.pauseAd=function(){try{this.vast.pauseAd()}catch(t){}try{this.videoHasSource(c.adPlayer)&&this.adPlayer.pause()}catch(t){}},this.resumeAd=function(){try{c.vast.resumeAd()}catch(t){}try{c.adPlayer.paused&&this.videoHasSource(c.adPlayer)&&c.adPlayer.play()}catch(t){}},this.videoHasSource=function(t){if(!t)return!1;if(t.src)return!0;var e=t.getElementsByTagName("source");if(e)for(var i=0;i<e.length;i++)if(e[i]&&e[i].src)return!0;return!1},this.checkWindowFocus=function(t){"visible"===document.visibilityState&&(v.removeWindowFocusDetection(),c.resumeAd())},function(){var t=function(t,e){var i=document.createElement(t);for(var n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i},e=c.plugin+"_Player_"+d,i=o;if(i.innerHTML='<video id="'+e+'" class="SMPlayer" style="visibility: '+l+'" autoplay muted playsinline webkit-playsinline></video>',c.adPlayer=c.win.document.getElementById(e),!c.adPlayer)try{c.adPlayer=c.win.parent.document.getElementById(e),c.adPlayer&&(c.win=c.win.parent)}catch(t){}c.adPlayer||c.emit("AdError"),c.adVpaid=i.appendChild(t("div",{id:c.plugin+"_vpaid_"+d,class:"SMPlayer_vpaid"})),c.blocker=i.appendChild(t("div",{id:c.plugin+"_blocker_"+d,class:"SMPlayer_blocker"})),c.adVolume=i.appendChild(t("div",{id:c.plugin+"_Audio_"+d,class:"SMPlayer_Audio"})),c.fullscreenBtn=i.appendChild(t("div",{id:c.plugin+"_Resize_"+d,class:"SMPlayer_Resize"})),c.skipBtn=i.appendChild(t("div",{id:c.plugin+"_Skip_"+d,class:"SMPlayer_Skip"})),c.remaining=i.appendChild(t("div",{id:c.plugin+"_remaining_"+d,class:"SMPlayer_remaining"})),c.label=i.appendChild(t("div",{id:c.plugin+"_label_"+d,class:"SMPlayer_label"})),c.playBtn=i.appendChild(t("div",{id:c.plugin+"_playBtn_"+d,class:"SMPlayer_playBtn"})),c.auxBanner=i.appendChild(t("div",{id:c.plugin+"_AuxBanner_"+d,class:"SMAuxBanner"})),c.adVolume.onclick=c.toggleVolume.bind(c),c.adPlayer.addEventListener("playing",function(){try{c.vast&&!c.vast.clientStarted&&this.pause()}catch(t){}},!1),c.playBtn.onclick=function(){c.setPlayBtnDisplay("none"),c.oversafari="done",c.resumeAd()},c.label.onclick=function(){},c.fullscreenBtn.onclick=function(){c.fullscreen?c.exitFullscreen():c.requestFullscreen()};var n=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange"];for(var r in n)document.addEventListener(n[r],c.onFullscreenChange.bind(c),!1)}(),v.extend(this,new A)}n.prototype.setPlayBtnDisplay=function(t){(!0!==this.disableButtons||this.enablePlayBtn)&&(this.playBtn.style.display=t)},n.prototype._updateButtons=function(t,e,i){try{var n=Math.round(100*e/t);n||(n=1);var r=this.remaining.querySelector("#SMPlayer_bar_"+this.api),o=r.getAttribute("r"),s=(100-n)/100*(Math.PI*(2*o));if(r.style.strokeDashoffset=-1*s,this.remaining.querySelector("#SMPlayer_Currenttime_"+this.api).textContent=isNaN(i)?0:i,this.config.skip&&e>=this.config.skipTime&&(!this.skipBtn.style.display||"none"===this.skipBtn.style.display)){this.skipBtn.style.display="block",this.skipBtn.style.cursor="pointer";var a=this;a.skipBtn.onclick=function(){a.skipBtn.style.display="none",a.vast.skipAd()}}}catch(t){}},n.prototype._updatePlayTimer=function(){try{if(this.vast){if(this.isAdFactory&&"playing"!==this.state&&2<this.adCurrentTime)return;var t=this.vast.getDuration(),e=this.vast.getRemainingTime(),i=t-e;this.duration=t,this.adCurrentTime=i,e<this.duration&&0===this.adCurrentTime?this.emit("AdRemainingTimeChange",e):this.emit("AdRemainingTimeChange",this.adCurrentTime),this.vast&&!0!==this.disableButtons&&this._updateButtons(this.duration,this.adCurrentTime,e),2<this.adCurrentTime&&this.emitBillingTrackers()}}catch(t){}},n.prototype.emitBillingTrackers=function(){this.platformAdImpressionEmitted||(this.vast.setStart(),this.emit(h.EVENTS.SM.TRACKER,h.TRACKERS.AD_IMPRESSION),this.emit(h.EVENTS.SM.TRACKER,h.TRACKERS.AD_VIDEOSTART),this.platformAdImpressionEmitted=!0)},n.prototype.initButtons=function(){!0!==this.disableButtons&&(this.remaining.style.display="block");var t=this.plugin+"_svg_"+this.api,e=this.plugin+"_bar_bg_"+this.api;this.remaining.innerHTML='<svg id="'+t+'" preserveAspectRatio="xMidYMid" viewport="0 0 100 100" viewBox="0 0 34 34">\t      <defs><linearGradient id="gradient_bg" x1="0%" x2="100%" y1="100%" y2="0%">\t        <stop offset="0%" stop-color="#333" stop-opacity="0.3"></stop>\t        <stop offset="100%"  stop-color="#333" stop-opacity="0"></stop>\t      </linearGradient></defs>\t      <circle id="'+e+'" r="12" cx="17" cy="17" stroke="url(#gradient_bg)" fill="#333" fill-opacity="0.2">\t      </circle>\t      <circle id="SMPlayer_bar_'+this.api+'" r="12" cx="17" cy="17" stroke="#F49831" fill-opacity="0"></circle>\t      <text id="SMPlayer_Currenttime_'+this.api+'" \t        style="font-size:10px;fill:#ffffff" text-anchor="middle" y="21" x="17">0</text>\t    </svg>'},n.prototype.toggleButtons=function(t){if(!0!==this.disableButtons)for(var e="none"===t?[this.adVolume,this.fullscreenBtn,this.skipBtn,this.remaining,this.label,this.playBtn]:[this.adVolume,this.fullscreenBtn,this.remaining,this.label],i=0;i<e.length;i++)"mobile"===this.device.mobileDesktop&&e[i]===this.fullscreenBtn||(e[i].style.display=t);"smpvplayer"===this.plugin&&(this.fullscreenBtn.style.display="none")},n.prototype.onAdFactory=function(t){"SM"===t.provider&&(this.isAdFactory=!0,this.toggleButtons("none"),this.adPlayer.style.display="none","Video"!==t.type?this.disableButtons=!0:(this.disableButtons=!1,this.label.style.left="1.5%",this.skipBtn.style.left="10%"),this.vast.adFactoryInitialize(this.plugin))},n.prototype._setPlayBackTimerInterval=function(){this.intervalManager.addInterval(this.playBackIntervalName,this._updatePlayTimer.bind(this),1e3)},n.prototype._stopPlayBackTimerInterval=function(){this.intervalManager.stopInterval(this.playBackIntervalName)},t.exports=n},function(p,t){(function(r){function t(t){return-1!==window.uAgent.indexOf(t)}function e(){return t("windows")}function i(){return e()&&t("phone")}function n(){return t("ipod")}function o(){return t("ipad")}function s(){return!e()&&t("iphone")}function a(){return!e()&&t("android")}function d(){return t("blackberry")||t("bb10")||t("rim")}function c(){return(t("(mobile;")||t("(tablet;"))&&t("; rv:")}function l(){return a()&&t("mobile")||s()||n()||i()||d()&&!t("tablet")||c()&&t("mobile")||t("meego")}function h(){return o()||a()&&!t("mobile")||d()&&t("tablet")||e()&&t("touch")&&!i()||c()&&t("tablet")}function u(n,t){var e=function(t){try{return e=n.split(t)[1].trim().split(/[^\w\.]/)[0],i=e.split(/[\._]/),(parseInt(i[0],10)||0)+"."+(parseInt(i[1],10)||0)+"."+(parseInt(i[2],10)||0)}catch(t){}var e,i;return"0.0.0"};switch(t){case"Chrome for iOS":return e("CriOS/");case"Edge":return e("Edge/");case"Chrome":return e("Chrome/");case"Firefox":return e("Firefox/");case"Silk":return e("Silk/");case"AOSP":return e("Version/");case"IE":return/IEMobile/.test(n)?e("IEMobile/"):/MSIE/.test(n)?e("MSIE "):e("rv:");case"Safari":return e("Version/");case"WebKit":return e("WebKit/")}return"0.0.0"}window.uAgent=window.navigator.userAgent.toLowerCase(),p.exports={isIpad:o,isIphone:s,isAndroid:a,isWindows:e,isWebView:function(){var t=window.navigator.userAgent,e=function(t){switch(!0){case/Android/.test(t):return"Android";case/iPhone|iPad|iPod/.test(t):return"iOS";case/Windows/.test(t):return"Windows";case/Mac OS X/.test(t):return"Mac";case/CrOS/.test(t):return"Chrome OS";case/Firefox/.test(t):return"Firefox OS"}return""}(t),i=function(t){var e=/Android/.test(t);switch(!0){case/CriOS/.test(t):return"Chrome for iOS";case/Edge/.test(t):return"Edge";case e&&/Silk\//.test(t):return"Silk";case/Chrome/.test(t):return"Chrome";case/Firefox/.test(t):return"Firefox";case e:return"AOSP";case/MSIE|Trident/.test(t):return"IE";case/Safari\//.test(t):return"Safari";case/AppleWebKit/.test(t):return"WebKit"}return""}(t),n=u(t,i);switch(e+i){case"iOSSafari":return!1;case"iOSWebKit":return!("fullscreenEnabled"in document||"webkitFullscreenEnabled"in document);case"AndroidAOSP":return!1;case"AndroidChrome":return 42<=parseFloat(n)?/; wv/.test(t):!!/\d{2}\.0\.0/.test(n)||!("requestFileSystem"in r||"webkitRequestFileSystem"in r)}return!1},isMobile:l,isTablet:h,isDesktop:function(){return!h()&&!l()}}}).call(t,function(){return this}())},function(t,e,i){var n=i(22);function r(t){this._macrosValues=t,this.init()}r.prototype.setTagPriority=function(t){this.priority=t,this._urlList="sm"===this.priority?this._sunMediaList:this._clientList},r.prototype.init=function(){this._urlList=[],this._sunMediaList=[],this._clientList=[],this.reset()},r.prototype.reset=function(){this._currentSeqIndex=0,this._currentUrlIndex=0,this.priority&&this.setTagPriority(this.priority)},r.prototype.changeFeedList=function(){return this.priority="sm"===this.priority?"c":"sm",this.reset(),0<this._urlList.length},r.prototype.next=function(){if(this._currentSeqIndex>=this._urlList.length)return!1;this._currentUrlIndex>=this._urlList[this._currentSeqIndex].length&&(this._currentSeqIndex++,this._currentUrlIndex=0);try{var t=this._urlList[this._currentSeqIndex][this._currentUrlIndex++],e=n.parseUrl(t.url,this._macrosValues);if(e){var i=Object.assign({},t);return i.url=e,i}return this.next()}catch(t){return!1}},r.prototype.addUrlToCurrent=function(t){return this._urlList[this._currentSeqIndex].push(t)},r.prototype._formatUrl=function(t,e,i,n,r,o,s,a){e=e||1;for(var d=[],c=0;c<e;c++)d.push({url:t,wrapper:!1,passback:-1,type:i||"sm",mode:n||"vast",trafficType:o||"DIRECT",device:s||this.device,position:a||0,owner:r});return d},r.prototype.addUrl=function(t,e){this._urlList.push(this._formatUrl(t,e))},r.prototype._formatSeq=function(t,e){var i=this;return t.map(function(t){return{url:t.url,wrapper:!1,passback:-1,type:t.type,mode:t.mode||"vast",trafficType:t.trafficType||"DIRECT",device:t.device||i.device,position:t.position||0,owner:e}}).filter(function(t){return{url:t.url,type:t.type||"sm",owner:e}})},r.prototype.addSequence=function(t){this._urlList.push(this._formatSeq(t))},r.prototype._buildUrlList=function(t,a){var d=this;return("string"==typeof t?[t]:t).map(function(t){var e=typeof t;if("string"===e)return d._formatUrl(t,null,a,null,a,null,d.device);if("object"===e&&t instanceof Array)return d._formatSeq(t,a);var i=t.type||"sm",n=t.trafficType||"DIRECT",r=t.mode||"vast",o=t.device||d.device,s=t.position||0;return d._formatUrl(t.url,t.repeat,i,r,a,n,o,s)})},r.prototype.addMultiformatUrls=function(t,e,i){if(this.device=i.mobileDesktop,void 0===this.device)try{this.device=i.desktop()?"desktop":"mobile"}catch(t){}"sm"===e?this._sunMediaList=this._sunMediaList.concat(this._buildUrlList(t,e)):"c"===e&&(this._clientList=this._clientList.concat(this._buildUrlList(t,e)));for(var n=1,r=0;r<this._sunMediaList.length;r++)this._sunMediaList[r][this._currentSeqIndex].type||(this._sunMediaList[r][this._currentSeqIndex].type="sm"),this._sunMediaList[r][this._currentSeqIndex].position||(this._sunMediaList[r][this._currentSeqIndex].position=n,n++)},r.prototype.setTagPriorityToSunMedia=function(){this.setTagPriority("sm"),this._clientList=[]},t.exports=r},function(t,e,i){var r=i(8);function o(t){var e=t.protocol+"://"+t.host;return void 0!==t.port&&(e+=":"+t.port),void 0!==t.path&&(e+=t.path),void 0!==t.query&&(e+="?"+t.query),void 0!==t.anchor&&(e+="#"+t.anchor),e}function s(t){var e=(t=t.trim()).match(/^(https?):\/\/?([^:\/\s]+)(?::(\d+))?([^#?\s]+)(?:\?([^\s#]*))?(?:#([^\s]*))?$/);return!!e&&{protocol:e[1].toLowerCase(),host:e[2],port:e[3],path:e[4],query:e[5],anchor:e[6]}}t.exports={objectToQuery:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")},queryToObject:function(t){var e=decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"');return JSON.parse('{"'+e+'"}')},composeUrl:o,decomposeUrl:s,parseUrl:function(t,e){var i=s(t);if("https"!==i.protocol)return!1;var n=o(i);return r.replace(n,e)},isIMA:function(t){return s(t).host.match(/(googleads\.g|pubads\.g|ad)\.doubleclick\.net|imasdk.googleapis.com/)}}},function(t,e,i){var w=i(6),a=i(24),s=i(17),d=i(27),g=(i(29),i(30)),c=i(32),C=i(33),I=(i(34),i(35)),_=i(36),M=i(37),P=i(41),R=i(42),O=i(43),l=i(3),v=i(31);function n(t,e,i,A,n,r,o,T){var S,E,k,b=this;this.plugin=t,this.slot=e,this.videoSlot=i,this.options=r,this.duration=0,this.prefetch=r.prefetch||!1,this.adStack=[],this.playedAdsCount=0,this.device=o,this.reminderAd={},this.completed=!1,this.requestTracker=!1,this.fireUnfilledTrackers=!1,this.blur=!1,this.wrapperlevel=0,this.api=T,this._urlFeed=n,this._trackerStack=new d,this._mainTrackerStack=new d,this.eventsListened={},this.getVastRequest=function(t){if(this.IMA=!1,this.isVPAID=!1,this.isYoutube=!1,this.clientStarted=!1,t||(t=this._urlFeed.next()),!t)return l.debug("TOTAL: "+this.playedAdsCount+" ADS PLAYED"),l.debug("AD PLAYBACK END"),void b.endExecution();b.requestTracker||(b.requestTracker=!0,b.emit("SMAdRequest")),this.currentTag=t;var e=this.getTagUrl(t);if(this.currentTagUrl=e,t.waterfall||this.emit("changeBillingPB",t),"https://novideoreminder.com/"===e)return this.playedAdsCount=1,this.startTracking(),this.emit("NoVideoReminderImpression"),void this.endExecution(this.reminderAd);this.badFormedURL=!1;try{-1<e.indexOf("spotxchange")&&-1===e.indexOf("&ad_volume")&&(e+="&ad_volume=0");a.getTag(e,null,null,function(t){b.setAd(t.body)},function(t){b._errorRequestCallback("error on request",t)})}catch(t){b._errorRequestCallback("programmatic error on request",t)}},this.setAd=function(t){if(!(t=(k=new g(t)).select("VAST Ad")).length)return S||(b.fireUnfilledTrackers=!0),0!==this.wrapperlevel&&(this.wrapperlevel=0,S&&b._trackerStack.removeVideoPlazaFromErrorTracker(),b.fireTracker("AdError"),b._trackerStack.reset()),void this.loadAd();try{for(var e=0;e<t.length;e++){var i;if((i=k.select("InLine",t[e])).length)this.updateSDKOptionsFromTag(t[e],k),this.adReady(i[0]);else if((i=k.select("Wrapper VASTAdTagURI",t[e])).length){this.updateSDKOptionsFromTag(t[e],k);var n=k.toJson(i)[0].VASTAdTagURI.$,r=this._urlFeed.addUrlToCurrent({url:n,wrapper:!0,device:this.device.mobileDesktop,trafficType:this.currentTag.trafficType||"DIRECT",owner:this.currentTag.owner||"sm",type:this.currentTag.type||"sm",mode:this.currentTag.mode||"vast",position:this.currentTag.position||1,waterfall:this.currentTag.waterfall||0});this.badFormedURL=!1===r;var o=k.select("Impression",t[e]);for(var s in o)o.hasOwnProperty(s)&&this._trackerStack.addImpressionTracker(k.toJson(o)[s].Impression.$);var a=k.select("Error",t[e]);for(var d in a)a.hasOwnProperty(d)&&this._trackerStack.addErrorTracker(k.toJson(a)[d].Error.$);var c=k.toJson(k.select("Creative Linear Tracking",t[e]));this._trackerStack.addTrackingEvents(c);var l=k.toJson(k.select("Creative Linear ClickTracking",t[e]));for(var h in l)l.hasOwnProperty(h)&&this._trackerStack.addClickThroughTracker(l[h].ClickTracking.$);var u=k.toJson(k.select("Creative Linear ClickThrough",t[e]));u&&0<u.length&&(this.ClickThrough=u[0].ClickThrough.$),this.wrapperlevel=1;var p=k.toJson(k.select("Creative CompanionAds Companion",t[e]));if(p.length)for(var f=p.map(function(t){return t.Companion}),m=0;m<f.length;m++)"SM_companion"===f[m]["@label"]&&(this.reminderAd[f[m]["@id"]]=f[m]);this.getVastRequest()}else this.loadAd()}}catch(t){if(!(t instanceof v))throw t;t.dump()}},this.setAdWaterfall=function(t){if(!t)return 0!==this.wrapperlevel&&(this.wrapperlevel=0,b.fireTracker("AdError"),b._trackerStack.reset()),void this.loadAd();try{if(t.inLine)this.adReadyInLineWt(t.inLine);else if(t.wrapper){this.getTrackersFromWaterfallAd(t.wrapper);var e={url:t.wrapper.vastadTagURI,device:this.device.mobileDesktop,trafficType:this.currentTag.trafficType||"DIRECT",owner:this.currentTag.owner||"sm",type:this.currentTag.type||"sm",mode:this.currentTag.mode||"vast",position:this.currentTag.position||1,waterfall:!0};this.getVastRequest(e)}else this.loadAd()}catch(t){if(!(t instanceof v))throw t;t.dump()}},this.makeCustomVPCreative=function(t){},this.adReady=function(t){this.emit(w.EVENTS.SM.UPDATE_TRACKER,t),this.isVPAID=!1,this.wrapperlevel=0;var e=k.select("Creative MediaFile",t),i=k.select("Creative InteractiveCreativeFile",t);if(!e.length&&!i.length)throw new C(101);var n=k.toJson(k.select("Impression",t));for(var r in n)n.hasOwnProperty(r)&&this._trackerStack.addImpressionTracker(n[r].Impression.$);var o=k.toJson(k.select("Error",t));for(var s in o)o.hasOwnProperty(s)&&(this.InVPAIDSunMedia?this._trackerStack.addTracker("InVpaidError",o[s].Error.$):this._trackerStack.addErrorTracker(o[s].Error.$));var a=k.toJson(k.select("Creative Linear Tracking",t));this._trackerStack.addTrackingEvents(a);var d=k.toJson(k.select("Creative Linear ClickTracking",t));for(var c in d)d.hasOwnProperty(c)&&this._trackerStack.addClickThroughTracker(d[c].ClickTracking.$);var l=k.toJson(k.select("Creative Linear ClickThrough",t));l&&0<l.length&&(this.ClickThrough=l[0].ClickThrough.$);var h=k.toJson(k.select("Creative Companion",t));if(A&&h.length){var u=h.map(function(t){return t.Companion});E=new O(u,A)}var p,f,m=k.toJson(e);if(i.length?(p=k.toJson(i)[0].InteractiveCreativeFile,f=!0):(p=this.getMediaFile(m),f=this.adIsVpaid(p)),this.prefetch&&f);else if(this.prefetch);else{if(this.adIsYoutube(p))this.mediaFileSelected=p,this.isYoutube=!0,t=new _(p.$,this.slot,T);else if(f){var g=k.toJson(k.select("Creative",t))[0].Creative.Linear.AdParameters;if(-1<p.$.indexOf("passback_vpaid/passback_vpaid")){for(var v in S=new R(g),this.urlWaterFall=S,this._trackerStack.trackers){var y=this._trackerStack.trackers[v];this._mainTrackerStack.addTracker(y.name,y.urlList)}return this.setAdWaterfall(S.next()),!1}this.mediaFileSelected=p,t=new M(p,g?g.$:null,this.videoSlot,"window.parent."+this.getPlugin()+".vast.currentAd.on",b.slot,b,T)}else this.mediaFileSelected=p,t=new P(new I(p.$,this.videoSlot,this.device));this.adStack.push(t)}this.isVPAID=f,this.loadAd()},this.getPlugin=function(){switch(this.plugin){case"SMIntext":return this.plugin+"_"+b.api+".players[0]";default:return"SM"+this.plugin+"."+this.plugin+"_"+b.api+".player"}},this.adReadyInLineWt=function(t){if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){for(var e,i,n=t.creatives.creative[0]&&t.creatives.creative[0].linear.mediaFiles.mediaFile,r=[],o=0,s=0;s<n.length;s++){for(var a in e={},n[s])"value"===a?e.$=n[s][a]:e["@"+a]=n[s][a];r.push({MediaFile:e})}if(t.impression)for(o=0;o<t.impression.length;o++)this._trackerStack.addImpressionTracker(t.impression[o].value);if(t.error)for(o=0;o<t.error.length;o++)t.error[o]&&t.error[o].value&&this._trackerStack.addErrorTracker(t.error[o].value);if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){var d;if((i=t.creatives.creative[0].linear).trackingEvents&&0<(d=i.trackingEvents.tracking).length)for(o=0;o<d.length;o++)this._trackerStack.addTrackingEvent(d[o].event,d[o].value);if(i.videoClicks){if(i.videoClicks.clickTracking&&0<(d=i.videoClicks.clickTracking).length)for(o=0;o<d.length;o++)this._trackerStack.addClickThroughTracker(d[o].value);if(i.videoClicks.customClick&&0<(d=i.videoClicks.customClick).length)for(o=0;o<d.length;o++)this._trackerStack.addClickThroughTracker(d[o].value);i.videoClicks.clickThrough&&(this.ClickThrough=i.videoClicks.clickThrough.value)}}this.mediaFileSelected=this.getMediaFile(r),this.adStack.push(new P(new I(this.getMediaFile(r).$,this.videoSlot,this.device))),this.isVPAID=!1,this.loadAd()}else{if(t.impression)for(o=0;o<t.impression.length;o++)this._trackerStack.addErrorTracker(t.impression[o].value);b.fireUnfilledTrackers=!0,this.fireTracker("AdError"),this.loadAd()}},this.loadAd=function(){E&&A&&(A.innerHTML="",E=!1),0<this.adStack.length?(this.currentAd=this.adStack.shift(),this.currentAd.addListener("all",this),this.checkStartVpaid()?this.emit(w.EVENTS.SM.NON_STARTED):this.currentAd.initAd()):this.urlWaterFall&&this.urlWaterFall.hasNext()?(this._trackerStack.reset(),this.setAdWaterfall(this.urlWaterFall.next())):(this._mainTrackerStack.reset(),this.getVastRequest())},this.checkStartVpaid=function(){if(this.IMA)return!1;for(var t=0;t<w.NON_START.length;t++)if(-1<this.mediaFileSelected.$.indexOf(w.NON_START[t]))return!0;return!1},this.adIsVpaid=function(t){return!window.SMIMA&&t&&t["@apiFramework"]&&t["@apiFramework"].match(/^vpaid$/i)||this.adIsVpaidFlash(t)||this.adIsVpaidHTML5(t)},this.adIsYoutube=function(t){var e=e=-1<t.$.indexOf("www.youtube.com");return e};var s=function(t){return t["@mimeType"]?t["@mimeType"]:!!t["@type"]&&t["@type"]};this.adIsVpaidHTML5=function(t){var e=s(t);return e&&e.match(/application\/[x-]{0,2}javascript/)},this.adIsVpaidFlash=function(t){var e=s(t);return e&&"application/x-shockwave-flash"===e},this.getVolume=function(){return this.currentAd?this.currentAd.getVolume():0},this._setVolume=function(t){this.videoSlot.muted=0===t,this.currentAd.setVolume(t)},this.setVolume=function(t){this.currentAd&&this._setVolume(t),1===t&&this._setVolume(t)},this.resumeAd=function(){this.currentAd.resumeAd()},this.pauseAd=function(){this.currentAd.pauseAd()},this.getDuration=function(){try{var t=this.currentAd.getAdDuration();if((!(t=t&&t!==1/0?t:0)||parseInt(t,10)<=0)&&0<parseInt(this.videoSlot.duration,10)&&(t=this.videoSlot.duration),!t||parseInt(t,10)<=0){var e=this.getPlayerPlaying();e&&e.duration&&(t=parseInt(e.duration,10))}return t=Math.round(t),this.duration=t}catch(t){return 0}},this.getRemainingTime=function(){try{var t=this.currentAd.getAdRemainingTime();if(t=t&&t!==1/0?t:0,this.duration&&(!t&&0<this.videoSlot.currentTime&&(t=Math.round(this.duration-this.videoSlot.currentTime)),!t)){var e=this.getPlayerPlaying();e&&e.currentTime&&(t=Math.round(this.duration-parseInt(e.currentTime,10)))}return(t=Math.round(t))<0&&(t=0),this.checkVideoTrackers(t),t}catch(t){return 0}},this.resizeAd=function(t,e,i){this.currentAd&&this.currentAd.resizeAd(Math.round(t),Math.round(e),i)},this.skipAd=function(){try{b.currentAd.skipAd(),setTimeout(function(){b.skipped||b.on("AdSkipped")},1e3)}catch(t){}},this.clickVastVideo=function(t,e){if(t||b.on("AdClickThru"),e){var i=!1;"visible"===window.document.visibilityState?i=!0:window.parent&&"visible"===window.parent.document.visibilityState&&(i=!0),i&&window.open(b.ClickThrough)}else window.open(b.ClickThrough)},this.on=function(t,e){switch(t){case"AdVideoStart":b.startTracking(),b.emit("AdPlaying");break;case"AdStarted":S&&(S=null),-1===this.currentTagUrl.indexOf("https://track.adform.net/serving/videoad/?bn=36381637&v=2")&&b.startTracking(),this.setAutoPlayTerms(this.videoSlot),this.isSpotx()&&this.checkAutoPlayStart(),b.emit(t,e);break;case"AdStopped":b.stopped||(b.stopped=!0,b.stopCurrentAd(),b.checkNextAd(),b.emit(t,e));break;case"AdImpression":b.startTracking();break;case"AdSkipped":b.skipped=!0,b.emit(t,e),b._trackerStack.reset(),b.checkNextAd();break;case"AdLoaded":b.completed=!1,b.emit(t,e);break;case"AdRemainingTimeChange":b.clearCheckAutoPlayStartIntInterval();break;case"AdVolumeChange":var i=this.getVolume();if(!i||0!==parseInt(i,10)&&1!==parseInt(i,10)){try{0<this.videoSlot.volume&&(b.emit("AdTracker","unmuted"),b.fireTracker("unmute"))}catch(t){}try{0===this.videoSlot.volume&&(b.emit("AdTracker","muted"),b.fireTracker("mute"))}catch(t){}}else 0===parseInt(i,10)?(b.emit("AdTracker","muted"),b.fireTracker("mute")):(b.emit("AdTracker","unmuted"),b.fireTracker("unmute"));b.emit(t,i);break;case"AdClickThru":b.fireTracker("clickTracking"),e&&e[0]&&"string"==typeof e[0]&&0===e[0].indexOf("http")&&(b.ClickThrough=e[0],b.clickVastVideo(!0,"vpaid")),b.emit(t,e);break;case"AdVideoComplete":if(e&&e[0]&&e[0].provider&&"SM"===e[0].provider&&!1==!!e[0].close)return void b.fireTracker(t);b.completed=!0,b.emit(t,e),setTimeout(function(){b.stopped||b.on("AdStopped")},1e3);break;case"AdPaused":b.emit(t,e);break;case"AdPlaying":b.startTracking(),b.clearCheckAutoPlayStartIntInterval(),b.emit(t,e);break;case"AdError":b.isVPAID&&!b.urlWaterFall&&b.fireTracker("AdError"),b.IMA=!1,b.isVPAID=!1,b.isYoutube=!1,b.clientStarted=!1;try{b.clearCheckAutoPlayStartIntInterval()}catch(t){}this.InVPAIDSunMedia&&this._trackerStack.fireTracker("InVpaidError"),b.started?(b.removeCurrentAd(),b.emit(t,e),b.endExecution()):this.urlWaterFall&&this.urlWaterFall.hasNext()?(b.removeCurrentAd(),b.emit(t,e),b.loadAd()):e&&!e.recoverable&&(b.removeCurrentAd(),b.emit(t,e),b.loadAd());break;case"SMImaLoaded":b.emit(t,e);break;case"AdVideoFirstQuartile":b.startTracking(),b.emit(t,e);break;case"AdVideoMidpoint":b.eventsListened.AdVideoFirstQuartile||b.on("AdVideoFirstQuartile"),b.emit(t,e);break;case"AdVideoThirdQuartile":b.eventsListened.AdVideoMidpoint||b.on("AdVideoMidpoint"),b.emit(t,e);break;case w.EVENTS.AD_FACTORY:case w.EVENTS.AD_FACTORY_IMPRESSION:case w.EVENTS.AD_FACTORY_SSP_VPAID_SIZE:b.emit(t,e)}"AdError"!==t&&b.fireTracker(t),b.eventsListened[t]=!0},this.initAd=function(){if(this.currentAd)try{this.currentAd.initAd()}catch(t){}},this.startAd=function(){if(this.currentAd){this.setAutoPlayTerms(this.videoSlot),this.clientStarted=!0,this.mediaFileSelected&&this.mediaFileSelected.$&&this.isSpotx()&&(this.checkAutoPlayStartInt=setInterval(b.checkAutoPlayStart.bind(b),1));try{this.currentAd.startAd()}catch(t){}}},this.isSpotx=function(){var t=!1;if(k){var e=k.select("AdSystem",this.ad)[0];this.mediaFileSelected&&this.mediaFileSelected.$&&(t=-1<this.mediaFileSelected.$.indexOf("spotxcdn.com")||e&&"SpotXchange"===e.innerHTML||-1<this.mediaFileSelected.$.indexOf("beta.js"))}return t},this.checkAutoPlayStart=function(){try{if(this.setAutoPlayTerms(this.videoSlot),this.isVPAID);}catch(t){}},l.extend(this,new c)}n.prototype.setAutoPlayTerms=function(t){try{t.muted||(t.muted=!0),t.autoplay||(t.autoplay=!0),0<t.volume&&(t.volume=0)}catch(t){}},n.prototype.clearCheckAutoPlayStartIntInterval=function(){try{this.checkAutoPlayStartInt&&clearInterval(this.checkAutoPlayStartInt)}catch(t){}},n.prototype.fireTracker=function(t){try{var e=this._trackerStack.getTracker(t),i=this._mainTrackerStack.getTracker(t);e&&this._trackerStack.fireTracker(t),i&&this._mainTrackerStack.fireTracker(t),this.emit("AdTracker",t)}catch(t){}},n.prototype.startTracking=function(){this.startTrck||(this.startTrck=!0,this.playedAdsCount++,this.fireTracker("AdImpression"),this.fireTracker("impression"),this.fireTracker("impressions"),this.fireTracker("AdVideoStart"),this.fireTracker("start"),this.fireUnfilledTrackers=!1)},n.prototype.setStart=function(){this.started=!0},n.prototype._errorRequestCallback=function(t,e){t=t||"",this.emit("AdTracker","request_error"),this.on("AdError",{msg:"Ad request failed: "+t,error:e})},n.prototype.getTagUrl=function(t){return t.url},n.prototype.adFactoryInitialize=function(t){try{this.currentAd.adFactoryInitialize(t)}catch(t){}},n.prototype.getTrackersFromWaterfallAd=function(t){var e=0;if(t.impression){var i=t.impression;if("object"==typeof i)for(e=0;e<i.length;e++)this._trackerStack.addImpressionTracker(i[e]);else"string"==typeof i&&this._trackerStack.addImpressionTracker(i)}if(t.error){var n=t.error;if("object"==typeof n)for(e=0;e<n.length;e++)this._trackerStack.addErrorTracker(n[e]);else"string"==typeof n&&this._trackerStack.addErrorTracker(n)}if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){var r=t.creatives.creative[0].linear;if(r.trackingEvents&&0<(o=r.trackingEvents.tracking).length)for(e=0;e<o.length;e++)this._trackerStack.addTrackingEvent(o[e].event,o[e].value);if(r.videoClicks){var o;if(r.videoClicks.clickTracking&&0<(o=r.videoClicks.clickTracking).length)for(e=0;e<o.length;e++)this._trackerStack.addClickThroughTracker(o[e].value);if(r.videoClicks.customClick&&0<(o=r.videoClicks.customClick).length)for(e=0;e<o.length;e++)this._trackerStack.addClickThroughTracker(o[e].value)}}},n.prototype.removeCurrentAd=function(){this.currentAd&&this.currentAd.removeAd()},n.prototype.endExecution=function(t){this.started=!1;var e={};e.playedAdsCount=this.playedAdsCount,e.fireUnfilledTrackers=this.fireUnfilledTrackers||this.badFormedURL||0===this.playedAdsCount;var i=[];try{for(var n in t)t.hasOwnProperty(n)&&i.push(t[n])}catch(t){i=[]}i&&0<i.length&&(e.reminderAds=i),e.clickTracker=this.createReminderTracker("AdClickThru"),this._trackerStack.reset(),this.emit("AdComplete",e),this.emit("AdEnded",e)},n.prototype.createReminderTracker=function(t){var e,i,n=this._trackerStack.getTracker(t)||{},r=this._mainTrackerStack.getTracker(t)||{},o=new s(t);return o.urlList=(e=n.urlList||[],i=r.urlList||[],e.concat(i)),o},n.prototype.checkNextAd=function(){this.endExecution(this.reminderAd)},n.prototype.stopCurrentAd=function(){this.stopped=!0,this.skipped||(this.eventsListened.AdVideoThirdQuartile||this.on("AdVideoThirdQuartile"),this.started&&(this.fireTracker("complete"),this.fireTracker("AdVideoComplete"))),this._trackerStack.reset()},n.prototype.updateSDKOptionsFromTag=function(t,e){try{var i=e.select("AdTitle",t);if(0<i.length&&(i=i[0].textContent)){var n={};-1!==i.indexOf("SM_NOSKIP")&&(n.skip=!1),-1!==i.indexOf("SM_NOAVA")&&(n.ava=!1),-1!==i.indexOf("SM_AUDIOON")&&(n.sound=!0),-1!==i.indexOf("SM_NORESTART")&&(n.restart=!1),-1!==i.indexOf("InVPAID")&&(this.InVPAIDSunMedia=!0),n!=={}&&this.emit(w.EVENTS.SM.UPDATE_CONFIG_OPTIONS,n)}}catch(t){}},n.prototype.getPlayerPlaying=function(){var t=this.currentAd.vpaidModule.container.getElementsByTagName("iframe"),r=null,o=function(t){var e,i;for(e=0;e<t.length;e++){var n;if(!t[e].src||""===t[e].src||"undefined"===t[e].src||-1===t[e].src.indexOf("http"))try{0<(i=(n=t[e].contentWindow.document).getElementsByTagName("video")).length&&-1<i[0].src.indexOf("http")&&(r=i[0]),r||0<n.getElementsByTagName("iframe").length&&o(n.getElementsByTagName("iframe"))}catch(t){}}};return o(t),r},n.prototype.checkVideoTrackers=function(t){if("number"==typeof this.duration&&0<=this.duration&&"number"==typeof t&&0<=t){if(!this.quartiles){var e=Math.round(this.duration/4);this.quartiles=[e+2,2*e+2,3*e+2]}var i=this.duration-t;if(i!==this.quartiles[0]||this.eventsListened.AdVideoFirstQuartile)if(i!==this.quartiles[1]||this.eventsListened.AdVideoMidpoint)if(i!==this.quartiles[2]||this.eventsListened.AdVideoThirdQuartile){if(i>=this.duration&&this.eventsListened.AdVideoFirstQuartile&&this.eventsListened.AdVideoMidpoint&&this.eventsListened.AdVideoThirdQuartile&&!this.completed&&!this.stopped){var n=this;setTimeout(function(){n.completed||n.on("AdVideoComplete")},2500)}}else this.on("AdVideoThirdQuartile");else this.on("AdVideoMidpoint");else this.on("AdVideoFirstQuartile")}},n.prototype.filterMediaFile=function(t){var e=this.device.desktop(),i=this.device.ios(),n=[],r=[],o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s].MediaFile,d=a.$.split(".").pop().toLowerCase();this.adIsVpaid(a)&&(this.adIsVpaidHTML5(a)||this.adIsVpaidFlash(a))?o.push(a):this.adIsYoutube(a)?r.push(a):e?-1<d.indexOf("mp4")&&n.push(a):(-1<d.indexOf("mp4")||-1<d.indexOf("ogg")||-1<d.indexOf("webm")||-1<d.indexOf("mov")&&i)&&n.push(a)}return{youtubeFiles:r,html5Videos:n,vpaidFiles:o}},n.prototype.getMediaFile=function(t){var e,i=this.filterMediaFile(t),n=i.html5Videos,r=i.youtubeFiles,o=i.vpaidFiles;if(o.length)o.sort(function(t,e){var i=t["@type"].toUpperCase(),n=e["@type"].toUpperCase();return i<n?-1:n<i?1:0}),e=o[0];else if(n.length)if(n.sort(function(t,e){return parseFloat(t["@bitrate"])-parseFloat(e["@bitrate"])}),this.device.desktop()){e=n[0];for(var s=0;s<n.length;s++){var a=parseFloat(n[s]["@bitrate"]),d=parseInt(n[s]["@width"]),c=parseFloat(e["@bitrate"]);a&&512<=a&&a<720&&d&&400<d&&d<800&&c&&c<a&&(e=n[s])}}else e=this.device.tablet()&&1<n.length&&n.length<3?n[1]:n[0];else r.length&&(e=r[0]);return e},t.exports=n},function(t,e,i){var c=i(25),l=i(26);t.exports=function(){var i;return{METHODS:c.METHODS,getTag:function(t,e,i,n,r){return o(t,e=e||{Accept:"*/*"},i,n,r)},get:o};function d(r,t,o,s){t=t||{},r.crossDomain=void 0===t.crossDomain||null===t.crossDomain||t.crossDomain,r.credentials=void 0===t.withCredentials||null===t.withCredentials||t.withCredentials;var e=new c(r),a=function(){if(i)return new XDomainRequest;var t=new XMLHttpRequest;if(void 0===t.withCredentials&&"undefined"!=typeof XDomainRequest&&(t=new XDomainRequest,i=!0),!t)throw new SMError(102,"Run open before send");return t}();a.onreadystatechange=function(){if(4===a.readyState){var t=e&&e.headers&&e.headers.get?e.headers.get("X-Request-URL"):null,e={url:"responseURL"in a?a.responseURL:t,status:a.status,statusText:a.statusText,headers:a.getAllResponseHeaders()||""},i="response"in a?a.response:a.responseText,n=new l(i,e);404===a.status?"function"==typeof s&&s(new TypeError("Network request failed: Not Found")):a.status<200||400<=a.status?a.withCredentials?(e.withCredentials=!1,d(r,e,o,s)):"function"==typeof s&&s(new TypeError("Network request failed")):"function"==typeof o&&o(n)}},a.onerror=function(){},a.ontimeout=function(){"function"==typeof s&&s(new TypeError("Network request failed"))},i?a.open(e.method,e.url):a.open(e.method,e.url,!0),a.crossDomain=e.crossDomain,a.withCredentials=!0===e.credentials,e.forEachHeaders(function(t,e){a.setRequestHeader(e,t)}),a.send()}function o(t,e,i,n,r){return d({url:t,method:c.METHODS.GET,headers:e},i,n,r)}}()},function(t,e){function i(t){this.url=t.url,this.method=i.normalizeMethod(t.method||"GET"),this.headers=t.headers||{},this.referrer=t.referrer||null,this.credentials=t.credentials||!1,this.crossDomain=!t.hasOwnProperty("crossDomain")||t.crossDomain;var e=t.body;if(("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests")}i.prototype.forEachHeaders=function(t){for(var e in this.headers)this.headers.hasOwnProperty(e)&&t(this.headers[e],e)},i.METHODS={GET:"GET",PUT:"PUT",POST:"POST",PATCH:"PATCH",DELETE:"DELETE"},i.normalizeMethod=function(t){var e=t.toUpperCase();return i.METHODS.hasOwnProperty(e)?e:t},t.exports=i},function(t,e){t.exports=function(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=e.headers,this.url=e.url||"",this.body=t}},function(t,e,i){var n=i(3),r=i(28);function o(){r.call(this)}((o.prototype=Object.create(r.prototype)).constructor=o).prototype.addImpressionTracker=function(t){this.addTracker("AdImpression",t)},o.prototype.addErrorTracker=function(t){this.addTracker("AdError",t)},o.prototype.addClickThroughTracker=function(t){this.addTracker("AdClickThru",t)},o.prototype.addTrackingEvent=function(t,e){var i=o.vastTrackerNameToEvent(t);this.addTracker(i,e)},o.prototype.addTrackingEvents=function(t){for(var e in t)t.hasOwnProperty(e)&&this.addTrackingEvent(t[e].Tracking["@event"],t[e].Tracking.$)},o.prototype.isStackTrackerFireable=function(t){return!t.hasBeenFired()||"clickTracking"===t.name||"AdClickThru"===t.name},o.prototype.removeVideoPlazaFromErrorTracker=function(){this.removeTrackerUrl("AdError","es-sunicontent.videoplaza.tv")},o.vastTrackerNameToEvent=function(t){var e={impressions:"AdImpression",creativeView:"AdStarted",start:"AdVideoStart",skip:"AdSkipped",acceptInvitation:"AdUserAcceptInvitation",collapse:"AdUserMinimize",close:"AdUserClose",pause:"AdPaused",resume:"AdPlaying",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete"};return e[t]?e[t]:t.match(/^Ad/)?void 0:"Ad"+n.strUpperFirst(t)},t.exports=o},function(t,e,i){var n=i(17);function r(){this.trackers={}}r.prototype.exits=function(t){return t in this.trackers},r.prototype.getTracker=function(t){return!!this.exits(t)&&this.trackers[t]},r.prototype.reset=function(){for(var t in this.trackers)this.trackers.hasOwnProperty(t)&&this.trackers[t].reset()},r.prototype.addTracker=function(t,e){if(this.exits(t)||(this.trackers[t]=new n(t)),e){"string"==typeof e&&(e=[e]);for(var i=0;i<e.length;i++)this.trackers[t].addUrl(e[i])}},r.prototype.removeTrackerUrl=function(t,e){this.exits(t)&&this.trackers[t].removeUrl(e)},r.prototype.isStackTrackerFireable=function(t){return!t.hasBeenFired()},r.prototype.fireTracker=function(t){if(this.exits(t)){var e=this.trackers[t];if(this.isStackTrackerFireable(e))return e.fire()}return!1},t.exports=r},function(i,t){var o=[{reg:/^description_url$/i,replace:"empty"},{reg:/^(timestamp|random(_number)?)/i,replace:"ran"},{reg:/^referrer_url$/i,replace:"ref"},{reg:/^(ref_url|request.referrerurl|urlenc\(referrerurl\))$/i,replace:"ref_encode"}],n=i.exports={validate:function(t,e){e=n.decompose(e);return("https"!=(t=n.decompose(t)).protocol||"https"==e.protocol)&&i.exports.replaceMacros(t,e)},replaceMacros:function(t,e){if(void 0===e.query)return n.compose(e);var r={ran:Math.floor(1e9*Math.random()),ref:t.host,ref_encode:encodeURIComponent(t.host)};return e.query=e.query.replace(/(\[|%5B|%255B|7B|{|5B)([\w_\.\(\)]+)(\]|%5D|%255D|%7D|})/gi,function(t,e,i){for(k in o){var n=o[k];if(i.match(n.reg))return n.replace in r?r[n.replace]:""}}),n.compose(e)},compose:function(t){var e=t.protocol+"://"+t.host;return void 0!==t.port&&(e+=":"+t.port),void 0!==t.path&&(e+=t.path),void 0!==t.query&&(e+="?"+t.query),void 0!==t.anchor&&(e+="#"+t.anchor),e},decompose:function(t){var e=t.match(/^(https?):\/\/?([^:\/\s]+)(?::(\d+))?([^#?\s]+)(?:\?([^\s#]*))?(?:#([^\s]*))?$/);return!!e&&{protocol:e[1].toLowerCase(),host:e[2],port:e[3],path:e[4],query:e[5],anchor:e[6]}},isIMA:function(t){return(t=n.decompose(t)).host.match(/(googleads\.g|pubads\.g|ad)\.doubleclick\.net|imasdk.googleapis.com/)}}},function(t,e,i){var s=i(31);t.exports=function(t,e){var i;if(e=e||"text/xml",window.DOMParser){var n=new window.DOMParser;i=n.parseFromString(t,e)}else(i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(t);var r=[i.documentElement];this.toJson=function(t,e){return e=e||1/0,(t=t||r)instanceof Array?t.map(function(t){return u(t,e)}):u(v,e)},this.select=function(t,e){return e=e||i,r=Array.prototype.slice.call(e.querySelectorAll(t))};var u=function(t,e){e=e||1/0;var i=[],n=t.tagName,r={};r[n]={};var o=void 0!==t.attributes&&null!==t.attributes&&t.attributes.length,s=void 0!==t.childNodes&&null!==t.childNodes&&t.childNodes.length;if(o)for(var a=0;a<t.attributes.length;a++){var d=t.attributes.item(a);r[n]["@"+d.name]=d.value}if(e--,s&&e){for(var c=0;c<t.childNodes.length;c++){var l=t.childNodes.item(c);if(l.tagName){var h=u(l,e);if(!h)continue;r[n][l.tagName]&&r[n][l.tagName].length?r[n][l.tagName].push(h[l.tagName]):r[n][l.tagName]?r[n][l.tagName]=[r[n][l.tagName],h[l.tagName]]:r[n][l.tagName]=h[l.tagName]}else i.push(l.data.trim())}(i=i.join("")).length&&(r[n].$=i)}return r};if(this.select("parsererror").length){var o={errors:this.toJson(this.select("div")).map(function(t){return t.div.$}),vastCode:100};throw new s(104,"Parser Error",o)}return this}},function(t,e){var n=t.exports=function(t,e,i){return this.code=t||n.CODE.UNKNOWN_ERROR,e&&"string"==typeof e||(e=this.MESSAGES[this.code]),this.data=i||{},this.message=e,this.originalError=new Error(e),this.setOriginalError=function(t){return this.originalError=t,this},this.log=function(){console.error("SMError "+t+": "+e)},this.dump=function(){this.log(),console.log(i,this.originalError.stack)},this};n.MESSAGES={UNKNOWN_ERROR:"Unknown error",100:"Feature not supported",101:"Type error",102:"Precondition failed",103:"Not allowed",104:"VAST Error"}},function(t,e,i){var n=i(31);t.exports=function(){var r={};return this.addListener=function(t,e){if(!e||"function"!=typeof e&&"function"!=typeof e.on)throw new n(101,"The listener must be a function or have an on function",arguments);return"all"===t&&(t="#all"),r[t]?r[t].push(e):r[t]=[e],this.listeners=r,this},this.removeListener=function(t,e){var i=arguments.length;if("all"===t&&(t="#all"),1===i)r[t]={};else if(0===i)r={};else{var n=r[t];n.splice(n.indexOf(e),1)}return this.listeners=r,this},this.emit=function(t){var e=r[t]||[];"object"==typeof r["#all"]&&(e=e.concat(r["#all"]));var i=arguments;return e.forEach(function(t){"function"==typeof t?t(i[0],i[1]):t.on.apply(t,i)}),this},this}},function(t,e,i){var n=i(31),r=i(3);(t.exports=function(t,e,i){return r.extend(this,new n(t,e,i)),this}).MESSAGES={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. Video player received an Ad type \t\tthat it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",204:"Ad category was required but not provided.",300:"General Wrapper error."}},function(t,e,i){var a=i(3),d=i(32);t.exports=function(t,e,i,n,r,o){var s=this;return this.sdk=e,this.device=r,this.adDisplayContainer,this.adsLoader,this.status="pending",this.videoSlot=i,this.slot=n,this.adUrl=t,this.api=o,this.adUrl.indexOf("skippablelinear")&&!r.desktop()&&(this.adUrl=this.adUrl.replace("skippablelinear","linear")),this.loadingModuleTime=4e4,this.initAd=function(){var t=document.createElement("script");t.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",t.main=this,t.onload=function(){this.main.apiLoaded()},t.onerror=function(){this.main.adError()},document.body.appendChild(t)},this.apiLoaded=function(){try{this.device.desktop()?(!this.videoSlot.muted&&this.videoSlot.paused&&(this.videoSlot.muted=!0),this.videoSlot.autoplay||(this.videoSlot.autoplay=!0)):(this.videoSlot.autoplay=!0,this.videoSlot.muted=!0)}catch(n){}this.emit("SMImaLoaded"),this.loadingModule=setTimeout(this.adError.bind(this,{h:"Loading timeout exceded"}),this.loadingModuleTime);var t,e,i=this.slot.getElementsByTagName("div"),n=!1;for(t=0;t<i.length;t++)i[t].id&&i[t].id==="SMIMAContainer_"+this.api&&(n=!0,e=i[t]);n||((e=document.createElement("div")).setAttribute("style","position:absolute; width:100%; height:100%;z-Index:3;top:0px;left:0px;"),e.id="SMIMAContainer_"+this.api,this.slot.appendChild(e)),this.adContainer=e,google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer,this.videoSlot),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.managerEvent.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adError.bind(this),!1);var r=new google.ima.AdsRequest;r.adTagUrl=this.adUrl;var o=this.adContainer.offsetWidth,s=360*this.adContainer.offsetWidth/640;r.linearAdSlotWidth=o,r.linearAdSlotHeight=s,r.nonLinearAdSlotWidth=o,r.nonLinearAdSlotHeight=s;var a=this.getAdWillAutoPlay();r.setAdWillAutoPlay(a);var d=this.getAdWillPlayMuted();r.setAdWillPlayMuted(d),this.adsLoader.requestAds(r)},this.getAdWillAutoPlay=function(){return this._getParamValue(/(vpa)(%3d|=)([\w_\.\(\)]+)/gi,!0)},this.getAdWillPlayMuted=function(){return this._getParamValue(/(vpmute)(%3d|=)([\w_\.\(\)]+)/gi,!0)},this._getParamValue=function(t,e){var i=t.exec(this.adUrl);return null!==i&&void 0!==i[3]?"1"===i[3]:e},this.managerEvent=function(t){a.debug("IMA MANAGER EVENT",a.debugLevel.INFO);var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0;var i=t.getAdsManager(this.videoSlot,e);i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adEvent.bind(this)),i.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.adEvent.bind(this));var n=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE];for(var r in n)i.addEventListener(n[r],this.adEvent,!1,this);this.videoSlot.load(),this.adDisplayContainer.initialize(),this.adsManager=i;try{i.init(this.adContainer.offsetWidth,this.adContainer.offsetHeight,google.ima.ViewMode.NORMAL)}catch(t){this.adError(t)}},this.adEvent=function(t){var e=this,i={};switch(i[google.ima.AdEvent.Type.CLICK]="AdClick",i[google.ima.AdEvent.Type.MIDPOINT]="AdVideoMidpoint",i[google.ima.AdEvent.Type.FIRST_QUARTILE]="AdVideoFirstQuartile",i[google.ima.AdEvent.Type.THIRD_QUARTILE]="AdVideoThirdQuartile",t.type){case google.ima.AdEvent.Type.LOADED:this.ad=t.getAd(),this.ad.isLinear()?(clearTimeout(this.loadingModule),this.emit("AdLoaded"),this.status="loaded",this.replaceVideos()):a.debug("IMA Not Linear",a.debugLevel.INFO);break;case google.ima.AdEvent.Type.STARTED:this.ad.isLinear()?(this.status="started",this.emit("AdStarted")):this.adError();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(this.allAdsCompleted)return;this.allAdsCompleted=!0,setTimeout(function(){"skipped"!==e.status&&"completed"!==e.status&&(e.status="skipped",e.emit("AdSkipped"))},1500);break;case google.ima.AdEvent.Type.COMPLETE:this.ad.isLinear()&&"completed"!==this.status&&setTimeout(function(){e.status="completed",e.adCompleted()},1500);break;case google.ima.AdEvent.Type.USER_CLOSE:setTimeout(function(){"skipped"!==e.status&&(e.status="skipped",e.emit("AdSkipped"),e.adCompleted())},1500);break;case google.ima.AdEvent.Type.CLICK:this.emit("AdClickThru");break;default:"aderror"===t.type.toLowerCase()?this.adError():i[t.type]&&this.emit(i[t.type])}},this.replaceVideos=function(){var t=this.adContainer.getElementsByTagName("video");if(t&&0<t.length)for(var e=0;e<t.length;e++)"absolute"!==t[e].style.position&&(t[e].style.position="absolute"),"0px"!==t[e].style.top&&(t[e].style.top="0px"),"left"!==t[e].style.position&&(t[e].style.left="0px")},this.startAd=function(){this.started=!0,this.adsManager.start(),this.device.android()&&setTimeout(s.checkStart.bind(s),500)},this.checkStart=function(){var t=this.adContainer.getElementsByTagName("video");if(t&&0<t.length)for(var e=0;e<t.length;e++)t[e].autoplay=!0,t[e].setAttribute("autoplay",!0),t[e].setAttribute("muted",!0),t[e].muted=!0,t[e].src&&"loaded"===this.status&&(t[e].load(),this.status="playing",this.emit("AdPlaying"))},this.getAdDuration=function(){return this.ad.getDuration()},this.getAdRemainingTime=function(){return this.adsManager.getRemainingTime()},this.adCompleted=function(){this.status="completed";try{clearInterval(this.intervalTimer)}catch(t){}this.adContainer&&this.adContainer.parentNode.removeChild(this.adContainer),this.emit("AdVideoComplete")},this.adError=function(t){this.status="error";try{clearInterval(this.loadingModule)}catch(t){}try{clearInterval(this.intervalTimer)}catch(t){}this.adContainer&&this.adContainer.parentNode.removeChild(this.adContainer),t&&t.h?this.emit("AdError",t.h):t?this.emit("AdError",t):this.emit("AdError")},this.getVolume=function(){return this.adsManager.getVolume()},this.setVolume=function(t){this.adsManager.setVolume(t),this.emit("AdVolumeChange")},this.resizeAd=function(t,e,i){try{var n=this.adContainer.getElementsByTagName("iframe");if(n&&0<n.length)for(var r=0;r<n.length;r++)-1<n[r].src.indexOf("imasdk.googleapis.com")&&(n[r].width=t,n[r].style.width=t+"px",n[r].height=e,n[r].style.height=e+"px",n[r].parentNode&&-1===n[r].parentNode.id.indexOf("SMIMAContainer")&&(n[r].parentNode.style.left="50%",n[r].parentNode.style.marginLeft=-t/2+"px",n[r].parentNode.style.top="50%",n[r].parentNode.style.marginTop=-e/2+"px"))}catch(t){}this.adsManager&&this.adsManager.resize(t,e,i)},this.skipAd=function(){this.adsManager.skip()},this.resumeAd=function(){"playing"!==this.status&&(this.adsManager.resume(),this.status="playing",this.emit("AdPlaying"))},this.pauseAd=function(){"pause"!==this.status&&(this.adsManager.pause(),this.status="pause",this.emit("AdPaused"))},this.removeAd=function(){},a.extend(this,new d),this}},function(t,e,i){var a=i(3),d=i(32);t.exports=function(t,e,i){var n,r=this,o=navigator.userAgent.toLowerCase();this.isSafari=/^((?!chrome|android).)*safari/i.test(o),this.videoSlot=e,this.device=i,this.currentTime=0,this.load=function(){this.videoSlot.addEventListener("error",this.onDOMEvent,!1),this.videoSlot.addEventListener("ended",this.onDOMEvent,!1),this.videoSlot.addEventListener("playing",this.onDOMEvent,!1),this.videoSlot.addEventListener("paused",this.onDOMEvent,!1),this.videoSlot.addEventListener("suspend",this.onDOMEvent,!1),this.videoSlot.addEventListener("durationchange",this.onDOMEvent,!1),this.videoSlot.addEventListener("canplaythrough",this.onDOMEvent,!1),this.emit("loaded")};var s=function(){if(!r.duration||!n){r.duration=Math.round(r.videoSlot.duration);var t=Math.round(r.duration/4);n=[t,2*t,3*t]}var e=r.currentTime=Math.round(r.videoSlot.currentTime);e===n[0]?r.emit("AdVideoFirstQuartile"):e===n[1]?r.emit("AdVideoMidpoint"):e===n[2]&&r.emit("AdVideoThirdQuartile")};this.pause=function(){clearInterval(this.videoTimer),this.videoSlot.pause(),this.emit("paused")},this.stop=function(){this.pause(),this.videoSlot.currentTime=0,this.videoSlot.removeEventListener("error",this.onDOMEvent,!1),this.videoSlot.removeEventListener("ended",this.onDOMEvent,!1),this.videoSlot.removeEventListener("playing",this.onDOMEvent,!1),this.videoSlot.removeEventListener("paused",this.onDOMEvent,!1),this.videoSlot.removeEventListener("suspend",this.onDOMEvent,!1),this.videoSlot.removeEventListener("durationchange",this.onDOMEvent,!1),this.videoSlot.removeEventListener("canplaythrough",this.onDOMEvent,!1),this.emit("stopped")},this.play=function(){this.videoSlot.play(),this.videoTimer=setInterval(s,1e3)},this.clearPlayTimeout=function(){try{clearTimeout(this.autoPlayTimeout)}catch(t){}},this.canPlaySrcType=function(t){var e=t.split(".").pop(),i=e.indexOf("?"),n="video/"+(e=-1<i?e.substr(0,i):e);return!this.videoSlot.canPlayType||""!==this.videoSlot.canPlayType(n)},this.startAd=function(){if(!this.canPlaySrcType(t))return this.emit("AdError",{message:"Video can't play"});this.videoSlot.src=t,this.videoSlot.load(),this.videoTimer=setInterval(s,1e3),this.device.ios()&&this.isSafari},this.getDuration=function(){return this.videoSlot.duration},this.getCurrentTime=function(){return this.currentTime},this.getVolume=function(){return this.videoSlot.volume},this.setVolume=function(t){this.videoSlot.muted=0===t,this.videoSlot.volume=t,r.emit("AdVolumeChange")},this.onDOMEvent=function(t){switch(t.type){case"error":r.emit("AdError",{DOMEvent:t}),r.stop(),r.emit("ended",{DOMEvent:t});break;case"ended":r.stop(),r.emit("ended",{DOMEvent:t});break;case"playing":r.playing=!0,r.clearPlayTimeout(),r.emit("playing");break;case"paused":r.emit("paused");break;case"canplaythrough":r.canplaythrough=!0;case"suspend":if(!r.suspend&&!r.playing){if(!r.suspendIntent)return r.suspendIntent=!0,setTimeout(function(){r.playing||r.onDOMEvent({type:"suspend"})},2500),!1;r.suspend=!0,r.device.mobile()?window.document.body.addEventListener("touchstart",function(){r.startWindowTouch()},!1):r.canplaythrough?r.videoSlot.play():r.playing||(r.stop(),r.emit("AdError",{DOMEvent:t}))}break;case"durationchange":setTimeout(function(){r.playing||r.onDOMEvent({type:"suspend"})},1500)}},this.startWindowTouch=function(){r.videoSlot.play(),window.document.body.removeEventListener("touchstart",function(){r.startWindowTouch()},!1)},a.extend(this,new d)}},function(t,e,i){var o=i(3),s=i(32);function n(t,e,i){this.api=i,this.slot=e;var n="v=";-1===t.indexOf(n)&&(n="video_id=");var r=t.indexOf(n)+n.length;this.youtubeId=t.substr(r,11),this.containerId="SMYTContainer_"+i,o.extend(this,new s)}n.prototype.tick=function(){var t=this.getAdDuration();this._firstQuartile||(t=Math.round(t),this._firstQuartile=Math.round(t/4),this._midPoint=2*this._firstQuartile,this._thirdQuartile=3*this._firstQuartile);var e=Math.round(this.getCurrentTime());e===this._firstQuartile?this.emit("AdVideoFirstQuartile"):e===this._midPoint?this.emit("AdVideoMidpoint"):e===this._thirdQuartile&&this.emit("AdVideoThirdQuartile")},n.prototype.onStateChange=function(t){t.data===YT.PlayerState.PLAYING?(this.emit("AdPlaying"),this.videoTimer=setInterval(this.tick.bind(this),1e3)):t.data===YT.PlayerState.PAUSED?(this.emit("AdPaused"),clearInterval(this.videoTimer)):t.data===YT.PlayerState.ENDED&&(this.getAdDuration()===this.getCurrentTime()&&this.emit("AdVideoComplete"),this.emit("AdEnded"),clearInterval(this.videoTimer))},n.prototype.initAd=function(){var t=document.createElement("div");t.id=this.containerId,this.slot.appendChild(t),this.emit("AdLoaded")},n.prototype.startAd=function(){var t=document.createElement("script");if(t.setAttribute("src","https://www.youtube.com/iframe_api"),document.head.appendChild(t),!window.onYouTubeIframeAPIReady){var e=this;window.onYouTubeIframeAPIReady=function(){e.player=new YT.Player(e.containerId,{playerVars:{controls:0,modestbranding:1,disablekb:0,autoplay:1,rel:0},videoId:e.youtubeId,height:"100%",width:"100%",events:{onReady:function(t){t.target.playVideo(),e.emit("AdStarted",{event:t})},onError:function(t){e.emit("AdError",{event:t})},onStateChange:e.onStateChange.bind(e)}})}}},n.prototype.resumeAd=function(){this.player.playVideo()},n.prototype.pauseAd=function(){this.player.pauseVideo()},n.prototype.stopAd=function(){this.player.stopVideo(),this.emit("AdStopped")},n.prototype.removeAd=function(){this.stopAd()},n.prototype.skipAd=function(){this.emit("AdSkipped"),this.removeAd()},n.prototype.resizeAd=function(t,e){var i=document.getElementById(this.containerId);i.style.height=e.toString()+"px",i.style.width=t.toString()+"px",this.player.setSize(t,e)},n.prototype.getAdDuration=function(){return this.player.getDuration()},n.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},n.prototype.getAdRemainingTime=function(){var t=this.getAdDuration(),e=this.getCurrentTime();return Math.round(t-e)},n.prototype.getVolume=function(){return this.player.getVolume()},n.prototype.setVolume=function(t){this.player.setVolume(t),this.emit("AdVolumeChange")},t.exports=n},function(t,e,i){var l=i(6),h=i(12),u=i(38),p=i(39),f=i(32),m=i(3),g=i(40),v=i(31),y={fn:{loadCreative:[],handshakeVersion:["playerVPAIDVersion"],initAd:["width","height","viewMode","desiredBitrate","creativeData","environmentVars"],startAd:[],stopAd:[],skipAd:[],resizeAd:["width","height","viewMode","w","h","m"],pauseAd:[],resumeAd:[],expandAd:[],collapseAd:[],subscribe:[],unsubscribe:[],SMInitialize:["params"]},prop:{adLinear:[],adWidth:[],adHeight:[],adExpanded:[],adDuration:[],adVolume:[],adRemainingTime:[]},extendedFn:{},events:["AdStarted","AdStopped","AdSkipped","AdLoaded","AdLinearChange","AdSizeChange","AdExpandedChange","AdSkippableStateChange","AdDurationChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdClickThru","AdInteraction","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdError","AdLog",l.EVENTS.AD_FACTORY,l.EVENTS.AD_FACTORY_IMPRESSION,l.EVENTS.AD_FACTORY_SSP_VPAID_SIZE]};for(var n in y.prop)if(y.prop.hasOwnProperty(n)){var r=m.arrayToCamelCase(["get",n]),o=m.arrayToCamelCase(["set",n]);y.extendedFn[r]=[],y.extendedFn[o]=[n]}function s(o,s,t,e,i,n,r){this.api=r,this.apiName=e,this.loadingModuleTime=3e4,this.vpaidPlayerId="SMVPAIDPlayer_"+r,this.playerElement=t,this.extendedVPAIDInterface=y;var a=function(t){return function(){return c.vpaidModule.vpaidInstruction({type:t})}};for(var d in this.extendedVPAIDInterface.fn)this.extendedVPAIDInterface.fn.hasOwnProperty(d)&&(this[d]=a(d));var c=this;this.vpaidInstruction=function(e){try{if(this.extendedVPAIDInterface.fn[e.type]||this.extendedVPAIDInterface.extendedFn[e.type])return c.vpaidModule.vpaidInstruction(e);c.on(e.type,e)}catch(t){c.on("AdError",{msg:"VPAID Instruction "+e.type+" failed",error:t})}},this.on=function(t,e){switch(t){case"wrapperLoaded":clearTimeout(c.loadingModule),c.loadingModule=setTimeout(c.on.bind(c,"AdError",{msg:"Loading timeout exceded"}),c.loadingModuleTime);var i=m.getElement(c.vpaidPlayerId,"swf"),n={type:"loadCreative"};n.vpaidObject={creative:{url:o.$},adParameters:""},s&&(n.vpaidObject.adParameters=s),i.vpaidInstruction(n),c.vpaidModule.VPAIDCreative=i;break;case"AdLoaded":clearTimeout(c.loadingModule),clearInterval(c.updateTime);break;case"AdStarted":clearInterval(c.updateTime),c.adRemainingTime=c.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});break;case"AdVideoStart":break;case"AdDurationChange":var r=c.vpaidModule.vpaidInstruction({type:"getAdDuration"});0<r&&(this.adDuration=r),this.adRemainingTime=c.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});break;case"AdVideoComplete":c.adcompleted=!0;break;case"AdStopped":clearInterval(c.updateTime),(c.adcompleted||c.adSkipped||c.adRemainingTime<=0)&&c.removeAd();break;case"AdSkipped":break;case"AdError":c.loadingModule&&clearTimeout(c.loadingModule),c.deleteObject();break;case"AdPlaying":break;case"AdPaused":clearInterval(c.updateTime);break;case"AdImpression":break;case l.EVENTS.AD_FACTORY:e=Array.isArray(e)?e[0]:e}c.emit(t,e)},this.setVolume=function(t){this.vpaidInstruction({type:"setAdVolume",adVolume:t}),c.emit("AdVolumeChange")},this.getVolume=function(){return this.vpaidInstruction({type:"getAdVolume"})},this.initAd=function(){var t;if("application/x-shockwave-flash"===(t=o["@mimeType"]?o["@mimeType"]:o["@type"])){var e=new g;if(!e.checkFlashSupport()||e.mobile())return c.removing=setTimeout(c.removeAd.bind(c),1e3),c.on("AdError",{msg:"Loading timeout exceded"}),void h.warning("Device not compatible with VPAID Flash");"swf",this.vpaidModule=new u(this,r)}else{if(!t.match(/application\/[x-]{0,2}javascript/))throw new v(100,"Unsupported VPAID mimeType");"html5",this.vpaidModule=new p(this,r)}this.vpaidModule.init(i,o,s),this.vpaidModule.addListener("all",this),c.loadingModule=setTimeout(c.on.bind(c,"AdError",{msg:"Loading timeout exceded"}),c.loadingModuleTime)},this.removeAd=function(){this.vpaidModule instanceof p&&this.vpaidModule.unsetVPAIDEvents(),c.loadingModule&&clearTimeout(c.loadingModule),c.updateTime&&clearInterval(c.updateTime),c.adcompleted=!0,c.removing=setTimeout(function(){try{c.deleteObject()}catch(t){m.debug(t,m.debugLevel.INFO)}},l.CLOSE_MILLISECONDS-500)},this.deleteObject=function(){try{clearInterval(this.updateTime),clearInterval(this.removing),i.removeChild(this.vpaidModule.container)}catch(t){}},this.getAdDuration=function(){return this.vpaidModule.vpaidInstruction({type:"getAdDuration"})},this.getAdRemainingTime=function(){var t=this.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});if(t<0){var e=0;return(e=0<this.vpaidModule.vpaidInstruction({type:"getAdDuration"})?this.vpaidModule.vpaidInstruction({type:"getAdDuration"}):this.adDuration)<1&&(e=this.playerElement.duration),(t=e-this.playerElement.currentTime)<0&&(t*=-1),t}return t},this.resizeAd=function(t,e,i){var n=this.vpaidModule.container;n.style.width="100%",n.style.height="100%";try{var r=n.getElementsByTagName("iframe");if(r&&0<r.length)for(var o=0;o<r.length;o++)r[o].id==="vpaid_creative_"+this.api&&(r[o].width=t,r[o].style.width=t+"px",r[o].style.left="50%",r[o].style.marginLeft=-t/2+"px",r[o].height=e,r[o].style.height=e+"px",r[o].style.top="50%",r[o].style.marginTop=-e/2+"px")}catch(t){}this.vpaidModule.vpaidInstruction({type:"resizeAd",w:t,h:e,m:i})},this.skipAd=function(){this.vpaidModule.vpaidInstruction({type:"skipAd"})},m.extend(this,new f)}s.prototype.adFactoryInitialize=function(t){try{var e={plugin:t,api:this.api,SMContainer:this.vpaidModule.container};this.vpaidModule.vpaidInstruction({type:"SMInitialize",params:e})}catch(t){t instanceof v?console.log("VPAIDManager onAdFactory SMError",t):console.log("VPAIDManager onAdFactory",t)}},t.exports=s},function(t,e,i){var d=i(3),n=i(32);t.exports=function(a,t){this.vpm=a,this.api=t,this.init=function(t,e){var i,n,r,o,s=a.vpaidPlayerId;return i="api="+a.apiName,r='<object id="'+s+'" classid="clsid:D27CDB6E-AE6D-11cf-96BB-444553540000" name="'+s+'" type="application/x-shockwave-flash" data="'+(n=d.memoize(d.getBasePathMainJS)()+"assets/SMVPAIDSwfModule.swf")+'" width="100%" height="100%"><param name="movie" value="'+n+'"/><param name="quality" value="high"/><param name=" AllowScriptAccess" value="always"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+i+'"/><embed src="'+n+'" name='+s+' id="'+s+'" data="'+n+'" flashvars="'+i+'" wmode="transparent" width="100%" height="100%" AllowScriptAccess="always" allowfullscreen="true"></object>',(o=document.createElement("div")).setAttribute("id","SMVPAIDContainer_"+this.api),o.setAttribute("style","z-Index:10000;position:absolute;float:none;background-color:#000000;width:100%;height:100%;"),t.appendChild(o),(this.container=o).innerHTML=r,this},this.vpaidInstruction=function(t){return this.VPAIDCreative.vpaidInstruction(t)},d.extend(this,new n)}},function(t,e,i){var r=i(3),o=i(32),s=i(40),a="https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js";t.exports=function(d,t){var c=this,n={};this.device=new s,this.api=t,this.init=function(t,e,i){this.mediafile=e,this.adParameters=i,this.container=document.createElement("div"),this.container.setAttribute("id","SMVPAIDContainer_"+this.api),this.container.setAttribute("style","z-Index:10000;position:absolute;float:none;width:100%;height:100%;"),t.appendChild(this.container),this.loadCreative()},this.isNonFriendly=function(){return this.mediafile.$&&-1<this.mediafile.$.indexOf(a)||this.adParameters&&-1<this.adParameters.indexOf(a)},this.loadCreative=function(){var t=this,e=t.isNonFriendly();inDapIF=!e;var i=!1;t.mediafile.$&&-1<t.mediafile.$.indexOf("https://creatives.sunmedia.tv/spd/vpaid.js")&&(i=!0),t.iframe=i?r.appendFrameScript(t.container,this.adParameters,t.creativeCallback,t.api,inDapIF,i):r.appendFrameScript(t.container,t.mediafile.$,t.creativeCallback,t.api,inDapIF,i)},this.creativeCallback=function(){var t,e=c.iframe.contentWindow.getVPAIDAd;return e&&"function"==typeof e?(c.VPAIDCreative=e(),c.checkVPAIDInterface(c.VPAIDCreative)?(c.setVPAIDEvents(),void i()):(t=new SMError(101,"Creative does not match the VPAID interface",c.VPAIDCreative),c.emit("AdError",t),!1)):(t=new SMError(101,"getVPAIDAd function does not exist"),c.emit("AdError",t),!1)},this.vpaidInstruction=function(t){var e=d.extendedVPAIDInterface.fn[t.type];if(e||(e=d.extendedVPAIDInterface.extendedFn[t.type]),!e)throw SMError(103,"Instruction "+t.type+" not allowed",t);if(c.VPAIDCreative[t.type]){var i=[];for(var n in e)if(e.hasOwnProperty(n)){if(void 0===t[e[n]])continue;i.push(t[e[n]])}return c.VPAIDCreative[t.type].apply(c.VPAIDCreative,i)}};var i=function(t){var e=c.container.getElementsByTagName("iframe")[0].contentWindow.document,i=e.body,n=i;if(c.isNonFriendly()){var r=document.createElement("div");r.id="vpaid_slot",i.appendChild(r),n=e.getElementById("vpaid_slot")}else c.mediafile.$&&-1<c.mediafile.$.indexOf("https://vpaid.doubleverify.com/js/vpaid-transformer/0.19.29/vpaid-transformer.js")&&(n=c.container);var o={slot:n,videoSlot:d.playerElement};d.playerElement.volume=0,d.playerElement.muted=!0;var s=360*o.slot.offsetWidth/640,a={AdParameters:c.adParameters};c.VPAIDCreative.initAd(d.playerElement.offsetWidth,s,"normal",500,a,o)};this.checkVPAIDInterface=function(t){for(var e in d.extendedVPAIDInterface.fn)if(d.extendedVPAIDInterface.fn.hasOwnProperty(e)&&"SMInitialize"!==e){if(this[e])continue;if(!t[e]||"function"!=typeof t[e])return!1}return!0},this.setVPAIDEvents=function(){var t=function(t){return function(){c.emit(t,Array.prototype.slice.apply(arguments))}};for(var e in d.extendedVPAIDInterface.events)if(d.extendedVPAIDInterface.events.hasOwnProperty(e)){var i=d.extendedVPAIDInterface.events[e];n[i]=t(i),c.VPAIDCreative.subscribe(n[i],i)}},this.unsetVPAIDEvents=function(){for(var t in n)c.VPAIDCreative.unsubscribe(n[t],t)},r.extend(this,new o)}},function(t,e,i){var c=i(3);t.exports=function(){var t,e;e=window.smdevice,t={},window.smdevice=t,window.smuAgent=window.navigator.userAgent.toLowerCase(),this.ios=function(){return this.iphone()||this.ipod()||this.ipad()},this.iphone=function(){return!this.windows()&&i("iphone")},this.ipod=function(){return i("ipod")},this.ipad=function(){return i("ipad")},this.android=function(){return!this.windows()&&i("android")},this.androidPhone=function(){return this.android()&&i("mobile")},this.androidTablet=function(){return this.android()&&!i("mobile")},this.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},this.blackberryPhone=function(){return this.blackberry()&&!i("tablet")},this.blackberryTablet=function(){return this.blackberry()&&i("tablet")},this.windows=function(){return i("windows")},this.windowsPhone=function(){return this.windows()&&i("phone")},this.windowsTablet=function(){return this.windows()&&i("touch")&&!this.windowsPhone()},this.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},this.fxosPhone=function(){return this.fxos()&&i("mobile")},this.fxosTablet=function(){return this.fxos()&&i("tablet")},this.meego=function(){return i("meego")},this.cordova=function(){return window.cordova&&"file:"===location.protocol},this.nodeWebkit=function(){return"object"==typeof window.process},this.mobile=function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()||this.meego()},this.tablet=function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},this.desktop=function(){return!this.tablet()&&!this.mobile()},this.television=function(){return n(/googletv|viera|smarttv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|pov_tv|hbbtv|ce-html/)},this.portrait=function(){return 1<window.innerHeight/window.innerWidth},this.landscape=function(){return window.innerHeight/window.innerWidth<1},this.noConflict=function(){return window.smdevice=e,this};var o,i=function(t){return-1!==window.smuAgent.indexOf(t)},n=function(t){return window.smuAgent.match(t)};this.getDevice=function(){if(this.ios()){if(this.ipad())return"ios ipad tablet";if(this.iphone())return"ios iphone mobile";if(this.ipod())return"ios ipod mobile"}else{if(this.android())return this.androidTablet()?"android tablet":"android mobile";if(this.blackberry())return this.blackberryTablet()?"blackberry tablet":"blackberry mobile";if(this.windows())return this.windowsTablet()?"windows tablet":this.windowsPhone()?"windows mobile":"desktop";if(this.fxos())return this.fxosTablet()?"fxos tablet":"fxos mobile";if(this.meego())return"meego mobile";if(this.nodeWebkit())return"node-webkit";if(this.television())return"television";if(this.desktop())return"desktop"}return!!this.cordova()&&"cordova"},this.checkFlashSupport=function(){var e=!1;function i(t){return(t=t.match(/[\d]+/g)).length=3,t.join(".")}if(navigator.plugins&&navigator.plugins.length){var t=navigator.plugins["Shockwave Flash"];t&&(e=!0,t.description&&i(t.description)),navigator.plugins["Shockwave Flash 2.0"]&&(e=!0,"2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var n=navigator.mimeTypes["application/x-shockwave-flash"];(e=n&&n.enabledPlugin)&&i(n.enabledPlugin.description)}else try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");e=!0,i(r.GetVariable("$version"))}catch(t){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e=!0,"6.0.21"}catch(t){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=!0,i(r.GetVariable("$version"))}catch(t){}}}return e},this.checkWifi=function(t){t(!1)},this.checkAutoplay=function(e){if(window.parent&&window.frameElement&&window.frameElement.id)var i=setInterval(function(){var t;0<=(t=window.frameElement.getBoundingClientRect()).top&&t.bottom<=screen.height&&(clearInterval(i),this.loadAutoplay(e))}.bind(this),100);else this.loadAutoplay(e)},this.loadAutoplay=function(t){var e=function(t,e){return"playing"===t?function(){o&&clearTimeout(o);var t=document.getElementById("SMAutoplayTesting");t&&t.parentNode.removeChild(t),e(!0)}:function(){o||(o=setTimeout(function(){window.SMAutoPlayChecking&&clearTimeout(o),e(!1)},2e3))}},i=document.createElement("video"),n=["loadeddata","loadedmetadata","playing"];for(var r in n)i.addEventListener(n[r],e(n[r],t));i.setAttribute("id","SMAutoplayTesting"),i.setAttribute("style","width:0.5px; height:0.5px; position:fixed;top:0px;left:0px;z-Index:2000000000"),i.setAttribute("src","https://static.sunmedia.tv/SMOutstream/files/video.mp4"),i.setAttribute("autoplay",!0),i.setAttribute("muted",!0),i.setAttribute("playsinline",!0),i.setAttribute("webkit-playsinline",!0),this.android()&&this.tablet()&&i.load(),document.body.appendChild(i)};var d;return this.speedTest=function(t){d=[];for(var e=0;e<10;e++)this.speedTestRequest(e,t)},this.speedTestRequest=function(t,e){var i,n,r,o=function(){var t=c.linearQuantile(d,75)/1e3,e=932024/t/1024/1024;return c.debug("75th quantile time : "+t+" seconds"),c.debug("Calculated speed : "+e.toFixed(2)+" Mbps"),e},s=new Image,a=(new Date).getTime();s.onload=(i=t,n=a,r=e,function(){var t=(new Date).getTime()-n;d[i]=t,c.debug("Test "+i+" : "+t+" ms"),10===d.filter(function(t){return t}).length&&r(o())}),s.onerror=function(t,e){},s.src="https://vod.sunmedia.tv/sunmedia/demos/bitrate.jpg?d="+t},this}},function(t,e,i){var n=i(3),r=i(32);t.exports=function(s){var i=!0;this.on=function(t,e){switch("playing"===t&&i&&(this.emit("AdStarted"),i=!1),t){case"loaded":this.emit("AdLoaded",e);break;case"paused":this.emit("AdPaused",e);break;case"playing":this.emit("AdPlaying",e);break;case"ended":e||(e={}),e.type="completed",this.emit("AdVideoComplete",e),this.emit("AdStopped",e);break;default:this.emit(t,e)}},this.handshakeVersion=function(t){},this.initAd=function(t,e,i,n,r,o){s.addListener("all",this),s.load()},this.startAd=function(){s.startAd()},this.stopAd=function(){s.stop()},this.pauseAd=function(){s.pause()},this.resumeAd=function(){s.play()},this.skipAd=function(){this.stopAd(),this.removeAd(),this.emit("AdSkipped")},this.removeAd=function(){this.stopAd()},this.expandAd=function(){},this.collapseAd=function(){},this.setVolume=function(t){s.setVolume(t)},this.getVolume=function(){return s.getVolume()},this.resizeAd=function(t,e,i){var n=s.videoSlot;n.style.width=n.style.height="100%"},this.getAdDuration=function(){var t=s.getDuration();return Math.round(t)},this.getAdRemainingTime=function(){var t=s.getDuration(),e=s.getCurrentTime();return Math.round(t-e)},n.extend(this,new r)}},function(t,e){t.exports=function(n){var r=[],t=-1;n=n;this.state="unloaded",this.init=function(){var t=JSON.parse(n.$).insertionPoint[0].slot[0].vast.ad[0].inLine.creatives.creative[0].linear.adParameters.value,e=JSON.parse(t);for(var i in r=e.ad)r[i].wrapper&&(r[i].wrapper.vastadTagURI=r[i].wrapper.vastadTagURI.replace(/&amp;/g,"&"));this.state="working"},this.next=function(){return t<r.length&&r[++t]},this.hasNext=function(){return t+1<r.length},this.init()}},function(t,e,i){var o=i(44),s=i(29);t.exports=function(t,i,e){console.log(t);var n=new o,r={HTMLResource:function(t,e){s.decompose(t.$)?n.get(t.$,function(){n.xhr.readyState==n.xhr.DONE&&200==xhrWrap.xhr.status?e.insertAdjacentHTML("beforeend",html):console.log("ERROR resources",n.xhr)},function(){console.log("ERROR resources")}):e.insertAdjacentHTML("beforeend",t.$)},StaticResource:function(t,e){var i=new Image;i.src=t.$,e.appendChild(i)},IFrameResource:function(t,e){var i=document.createElement("iframe");i.src=t.$,e.appendChild(i)}};t.forEach(function(t){for(var e in t)"@"!=e[0]&&r[e]&&r[e](t[e],i)})}},function(t,e,i){var n=i(31);t.exports=function(){var i=!1;return this.retry=!0,this.send=function(t){if(t=t||!1,!this.xhr)throw new n(102,"Run open before send");this.xhr.setRequestHeader("Accept","*/*"),this.xhr.withCredentials=t,this.xhr.send()},this.get=function(t,e,i){this.open("GET",t),"function"==typeof e&&(this.xhr.onload=e),"function"==typeof i&&(this.xhr.onerror=i),this.send(void 0)},this.open=function(t,e){this.xhr=function(){if(i)return new XDomainRequest;var t=new XMLHttpRequest;if(void 0===t.withCredentials){if("undefined"==typeof XDomainRequest)throw new n(102,"No XHR/XDR class");t=new XDomainRequest,i=!0}return t}(),this.xhr.crossDomain=!0,i?this.xhr.open(t,e):this.xhr.open(t,e,!0)},this}},function(t,e,i){var T=i(9);t.exports=function(t,e,i,n,r,o,s,a,y,A,d){return this.device=o,this.win=r,this.reference=n,this.companions=t,this.clickTracker=e,this.ava=i,this.frmMain=!1,this.frmRemember=!1,this.btnSize=25,this.viewMain=!1,this.position=i&&i.position?i.position:"left",this.skipReminder="boolean"==typeof s&&s,this.skipReminderTime=parseInt(a),this.init=function(){for(var t=0;t<this.companions.length;t++)T.isAMP()&&"Remember"===this.companions[t]["@id"]||this.buildContainer(this.companions[t])},this.isResourceEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return JSON.stringify(t)===JSON.stringify({})},this.buildContainer=function(t){var e=T.isAMP()&&T.isAMPStickyIntegration();if(!(t&&t.HTMLResource&&this.isResourceEmpty(t.HTMLResource))){var i,n,r,o,s,a,d,c,l=A.offsetWidth,h=360*A.offsetWidth/640;if(A.style.height=h+"px","Main"===t["@id"]&&(-1<t["@width"].indexOf("%")&&(t["@width"]=l,t["@height"]=h),t["@view"]&&"1"===t["@view"]&&(this.viewMain=!0)),a=t["@width"]?t["@width"]:300,d=t["@height"]?t["@height"]:250,e||((n=document.createElement("div")).setAttribute("id","SMIntext_remember_dv_close_"+t["@id"]+y),n.setAttribute("class","SMIntext_close_companion")),(o=document.createElement("div")).setAttribute("id","SMIntext_remember_dv_frm_"+t["@id"]+y),o.setAttribute("style","width:"+a+"px;height:"+d+"px;position:absolute;top:0px;left:0px;"),(i=document.createElement("div")).id="SMIntext_remember_dv_"+t["@id"]+y,i.appendChild(o),t.CompanionClickThrough&&t.CompanionClickThrough.$&&0<t.CompanionClickThrough.$.length){var u=document.createElement("div");u.setAttribute("id","SMIntext_remember_dv_clicklayer_"+t["@id"]+y),u.setAttribute("style","background:transparent;position:absolute;top:0;left:0;right:0;bottom:0;z-index:10;cursor:pointer;"),u.addEventListener("click",(c=t.CompanionClickThrough.$,function(){window.open(c),this.clickTracker&&"function"==typeof this.clickTracker.fire&&this.clickTracker.fire()}).bind(this)),i.appendChild(u)}e||i.appendChild(n);var p="z-index:50000;border:none;margin-bottom:10px;";if((s=this.win.document.createElement("iframe")).id="SMIntext_remember_"+t["@id"]+y,s.className="SMIntext_remember_"+t["@id"],s.scrolling="no",s.frameborder="0",s.onload=this.bannerLoaded.bind(this,t),s.width=a,s.height=d,s.setAttribute("style","border:none;width:"+a+"px;height:"+d+"px;"),o.appendChild(s),"Main"===t["@id"]){var f="width:"+l+"px;height:"+h+"px;z-Index:"+(T.isAMP()?20:this.reference.style.zIndex)+";position:relative;margin-bottom:10px;",m=this.win.document.createElement("div");m.setAttribute("style",f),m.setAttribute("id","SMAuxBanner_Main"+y),m.setAttribute("class","SMAuxBanner_Main"),e||(r=this.buildCloseBtnStyle(this.btnSize,5,5),n.setAttribute("style",r));var g="position:absolute;top:0px;left:0px;width:"+a+"px;height:"+d+"px;display:none;";i.setAttribute("style",g),m.appendChild(i),A.appendChild(m),this.frmMain=!0}else if("Remember"===t["@id"]){var v=this.ava&&this.ava.bottom?this.ava.bottom:10;r=this.buildCloseBtnStyle(this.btnSize,0,0),n.setAttribute("style",r),p="position:fixed;top:unset;left:unset;bottom:"+v+"px;width:"+(parseInt(a)+this.btnSize)+"px;height:"+(parseInt(d)+this.btnSize)+"px;display:none;z-Index:200000;",p+=-1<this.position.indexOf("left")?"left:10px":"right:10px;",this.frmRemember=!0,i.setAttribute("style",p),A.appendChild(i)}}},this.buildCloseBtnStyle=function(t,e,i){return"display:none;cursor:pointer;width:"+t+"px;height:"+t+"px;z-index:12;position:absolute;top: "+e+"px;right: "+i+"px;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfhCAcOHx0YqV6yAAABVUlEQVQ4y6WUvU4CURCFD1RACTS8gFEb3oAlIdFSQ8WjQXgBSi210IQNhCdQ4wMcs1l+AgVZkNxjsQvsD2ZxnVvNvfNlJjN3Tk6I2tcF7nGDa1QAzPCGZzzUPmNBCh1aHDpaydNORkbf8rSSIw5pheOOQIFdx6x1ytZyDLssxCCWOZ7J6DczmoljlkMQS5wslWZLccLSEerPUxFJmov9AKLlGHMWZOQYWj5kr89C/JbQFsC6E7luyY34rloR3xHrebQLkbkN0MH04E3RwSDyXgTa4IsXK8E9ZHMTeSVPfAW5S1TuB59CpJ1IcHOqc64aapxAJCNu8shi2crL0Ig87G0ks9/kKgCgGhsAAGwBO9Nws32jP3/Y5n41eouzoIXY+98SCqxwkrruE1biwlJMFZZSQo0CCRvtJcyffiBhIzbDcbmEWF7iDre4CsTyHU94rH1EY34AROPcsy0m4BwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDgtMDdUMTQ6MzE6MjkrMDI6MDC92oiFAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA4LTA3VDE0OjMxOjI5KzAyOjAwzIcwOQAAABh0RVh0ZmlsZW5hbWU6YmFzZQBpY28tY2VycmFycaPVNwAAAABJRU5ErkJggg==');background-size: contain;background-repeat: no-repeat;"},this.bannerLoaded=function(t){var e=this.win.document.getElementById("SMIntext_remember_"+t["@id"]+y);e.onload=null;var i=e.contentDocument,n=document.createElement("div");this.srcToLoad=0,this.srcLoaded=0,n.innerHTML=decodeURIComponent(t.HTMLResource.$);for(var r=!1,o=this,s=0;s<n.childNodes.length;s++)if(n.childNodes[s].tagName&&"undefined"!==n.childNodes[s].tagName)if("SCRIPT"===n.childNodes[s].nodeName.toUpperCase()){var a=i.createElement("script");n.childNodes[s].src&&(r=!0,this.srcToLoad++,n.childNodes[s].id&&(a.id=n.childNodes[s].id),n.childNodes[s].type&&(a.type=n.childNodes[s].type),n.childNodes[s].src&&(a.src=n.childNodes[s].src),n.childNodes[s].onload&&(a.onloadpre=n.childNodes[s].onload),a.onload=setTimeout(function(){o.BannerJSloaded(t)},1e3),i.body.appendChild(a))}else i.body.appendChild(n.childNodes[s].cloneNode(!0));i.body.style.margin="0 auto",r||setTimeout(function(){o.BannerJSloaded(t)},1e3)},this.BannerJSloaded=function(t){if(this.srcLoaded++,this.srcLoaded<this.srcToLoad)return!1;var e=this.win.document.getElementById("SMIntext_remember_"+t["@id"]+y),i=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument,n=document.createElement("div");n.innerHTML=decodeURIComponent(t.HTMLResource.$);for(var r=0;r<n.childNodes.length;r++)n.childNodes[r].tagName&&"undefined"!==n.childNodes[r].tagName&&("SCRIPT"!==n.childNodes[r].nodeName.toUpperCase()||n.childNodes[r].src||i.eval(n.childNodes[r].innerHTML));this.CompanionsReady()},this.CompanionsReady=function(){var t=this;this.frmMain&&(this.SMmain=this.win.document.getElementById("SMIntext_remember_dv_Main"+y)),this.frmRemember&&(this.SMremember=this.win.document.getElementById("SMIntext_remember_dv_Remember"+y)),this.frmMain&&(this.SMmain.style.display="block"),this.frmMain&&this.frmRemember&&(this.postionController=setTimeout(function(){t.setScrollPosition()},10)),this.tryCloseRememberBanner(),setTimeout(function(){t.showCloseBtn()},1e4)},this.showCloseBtn=function(){var t=this.win.document.getElementsByClassName("SMIntext_close_companion");if(t&&0<t.length)for(var e=0;e<t.length;e++)t[e].onclick=function(){-1<event.currentTarget.parentNode.id.indexOf("Main")?(clearTimeout(this.postionController),A.parentNode.removeChild(A),"function"==typeof d&&d(),this.callbackMain&&this.callbackMain.callback&&this.win[this.callbackMain.callback](this.callbackMain.options)):this.frmMain?this.SMremember.parentNode.removeChild(this.SMremember):(this.callbackMain&&this.callbackMain.callback&&this.win[this.callbackMain.callback](this.callbackMain.options),A.parentNode.removeChild(A)),this.tryCloseRememberBanner()}.bind(this),t[e].style.display="block"},this.setCallbackMain=function(t,e){this.callbackMain={},this.callbackMain.callback=t,this.callbackMain.options=e},this.setScrollPosition=function(){clearTimeout(this.postionController);var t=this.SMisScrolledIntoView(this.win.document.getElementById("SMAuxBanner_Main"+y));t&&(this.watched=!0),!t&&this.SMremember&&(this.viewMain?this.watched&&this.showBannerInScreen():this.showBannerInScreen()),t&&this.SMremember&&(this.SMremember.style.display="none");var e=this;this.postionController=setTimeout(function(){e.setScrollPosition()},10)},this.showBannerInScreen=function(){this.tryCloseRememberBanner()},this.closeRememberBanner=function(){this.SMremember.parentNode.removeChild(this.SMremember)},this.tryCloseRememberBanner=function(){try{this.SMremember&&(this.SMremember.style.display="block",this.skipReminder&&0<this.skipReminderTime&&!this.skipreminderDone&&(this.skipreminderDone=!0,setTimeout(this.showCloseBtn.bind(this),1e3*this.skipReminderTime)))}catch(t){}},this.SMisScrolledIntoView=function(t){try{var e=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom;return"desktop"===this.device?70<=e&&i<=this.SMwindowHeight()-100:0<=e&&i<=this.SMwindowHeight()}catch(t){}},this.SMwindowWidth=function(){return this.win.innerWidth?this.win.innerWidth:this.win.documentElement.clientWidth?this.win.documentElement.clientWidth:void 0},this.SMwindowHeight=function(){return this.win.innerHeight?this.win.innerHeight:this.win.documentElement.clientHeight?this.win.documentElement.clientHeight:void 0},this.init(),this}},function(t,e,i){var o=i(6),n=i(22),r=i(7),s=i(10),a=i(12),d=i(47),c=i(48),l=i(49),h=i(50),u=i(51),p=i(52),f=i(53),m=i(3),g=i(40);function v(t){this.playlistName=t,this._gdpr=new l,this._country=new h,this._testerManager=new f(window,"__sm__"),this._device=new g,this._device.mobileDesktop=this._device.desktop()?"desktop":"mobile",this.options={manager:{initTimeout:2e3},plugin:{initMaxIntents:5,initTimeout:2e3}},window[this.playlistName]||(window[this.playlistName]={})}v.prototype.getApi=function(){return(new Date).getTime().toString()},v.prototype._parseExtraOptions=function(t){try{return JSON.parse(t)}catch(t){return!1}},v.prototype.onBroadcast=function(t){try{for(var e in window[this.playlistName]){if(window[this.playlistName].hasOwnProperty(e))t(window[this.playlistName][e])}}catch(t){a.error(t)}},v.prototype.onPluginClose=function(t){var e=t.className+"_"+t.api;window[this.playlistName].hasOwnProperty(e)&&(window[this.playlistName][e].state=t.STATES.LOADED,delete window[this.playlistName][e])},v.prototype.startPluginPlayer=function(t){var e=window[this.playlistName][t];if(e.state===e.STATES.INITIAL){var i=function(){this.startPluginPlayer(t)}.bind(this);setTimeout(i,1e3)}else e.state===e.STATES.LOADING&&e.startPlayer()},v.prototype.extraCallback=function(t){var e=n.decomposeUrl(t.w.location.href);if(s.isAllowedToRun(e.host,t.whitelist))for(var i in window[this.playlistName])window[this.playlistName].hasOwnProperty(i)&&this.startPluginPlayer(i);else a.warning("The plugins is not allowed to run on: "+t.w.location.href)},v.prototype.loadExtra=function(t){if(t.options.extra){var e=document.createElement("script");e.src=o.SDK_EXTRA_PATH+t.options.extra+"/extra.min.js",e.onload=this.extraCallback.bind(this,t),e.error=this.extraCallback.bind(this,t),document.getElementsByTagName("head")[0].appendChild(e)}else this.extraCallback(t)},v.prototype.newPlugin=function(t,e){throw new Error('Not implemented method named "newPlugin"')},v.prototype._initPlugin=function(t){throw new Error('Not implemented method named "_initPlugin"')},v.prototype._createAndInitPluginInstance=function(t,e){e=void 0!==e?e:this.getApi();var i=this.newPlugin(t,e);i.addEventListener(i.EVENTS.BROADCAST,this.onBroadcast.bind(this)),i.addEventListener(i.EVENTS.CLOSED,this.onPluginClose.bind(this)),this._testerManager.add(i),i.init();var n=i.className+"_"+e;window[this.playlistName][n]=i},v.prototype.initPlugin=function(t){this._initPlugin(t)},v.prototype.initSDK=function(t){if(!this._gdpr.isLoading()&&this._dftTracker.isLoaded()&&!this._country.isLoading()&&this._dftTag.isLoaded()){if(t.options.country=this._country.getCountry(),t.options.gdprApplies=this._gdpr.getGDPR(),t.options.consentData=this._gdpr.getConsent(),1===t.options.consentData&&-1<o.STRICT_USER_CONSENT.indexOf(t.publisher))throw Error("STRICT_USER_CONSENT");if(t.options.supplyChain=d.getSupplyChain(t.publisher),t.options.category="string"==typeof t.category?t.category:"",t.defaultTracker=this._dftTracker.getTrackers(t.options),t.defaultTag=this._dftTag.getTags(),t.tags&&t.defaultTag&&t.defaultTag[this._device.mobileDesktop.toUpperCase()]){var e=t.defaultTag[this._device.mobileDesktop.toUpperCase()];for(var i in e){if("BANNER"===i)for(var n in e[i])e[i][n]&&e[i][n].url&&""!==e[i][n].url&&(e[i][n].type="default",e[i][n].mode="banner",e[i][n].device=this._device.mobileDesktop,t.tags.sm[this._device.mobileDesktop].push(e[i][n]));if("VAST"===i){e[i]=e[i].reverse();for(n=0;n<e[i].length;n++)e[i][n]&&e[i][n].url&&""!==e[i][n].url&&(e[i][n].type="default",e[i][n].mode="vast",e[i][n].device=this._device.mobileDesktop,t.tags.sm[this._device.mobileDesktop].unshift(e[i][n]))}}}this.initPlugin(t),this.loadExtra(t)}else{var r=function(){this.initSDK(t)}.bind(this);setTimeout(r,500)}},v.prototype.checkAdBlock=function(t){var e=function(){try{if(!0===c.isBlocked(this._device.ios(),t.publisher))return;this.initSDK(t)}catch(t){a.error(t)}}.bind(this),i=function(){a.error("Blocking Ads: Yes"),t.options.callback&&"function"==typeof t.w[t.options.callback]&&t.w[t.options.callback]({status:"SunMediaEnd",class:t.class,ads:0})},n=document.createElement("script");n.src=o.SM_AD_BLOCKER_DETECT_JS_PATH,n.onerror=i,n.onload=function(){void 0===window.adblockDetector?i():window.adblockDetector.init({debug:!1,fireNow:!0,found:i,complete:function(t){!1===t?e():i()}})};try{document.getElementsByTagName("head")[0].appendChild(n)}catch(t){i()}},v.prototype._initSDK=function(t){document.removeEventListener("DOMContentLoaded",this._bindedInitSDK);try{clearTimeout(this._initSDKTimeout)}catch(t){}this.checkAdBlock(t)},v.prototype.getPluginName=function(defaultConfig){return o.PLG_NAMES[this.playlistName]},v.prototype.init=function(defaultConfig){
defaultConfig = {"tags":{"sm":{"mobile":[{"url":"https:\/\/vast.sunmedia.tv\/creatives\/4ece5ef8-3eff-4ff5-9cde-e11eff196004?schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/1f835e9e-8866-46eb-9db6-93a5c0bb9cd4?schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/77c2c67e-a1c9-4634-845f-0f6a8b1a725d?schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"}],"desktop":[{"url":"https:\/\/vast.sunmedia.tv\/creatives\/4ece5ef8-3eff-4ff5-9cde-e11eff196004?schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/1f835e9e-8866-46eb-9db6-93a5c0bb9cd4?schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/77c2c67e-a1c9-4634-845f-0f6a8b1a725d?schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"}]},"client":{"mobile":["https:\/\/vast.sunmedia.tv\/creatives\/4a59e459-ad27-4fa5-9465-555fd9a60679?schain=${supply_chain}&t=${VALUE}","https:\/\/vast.sunmedia.tv\/creatives\/50125b85-e7a2-4848-8979-d56cc325e6e8?t=${VALUE}",""],"desktop":["https:\/\/vast.sunmedia.tv\/creatives\/4a59e459-ad27-4fa5-9465-555fd9a60679?schain=${supply_chain}&t=${VALUE}","https:\/\/vast.sunmedia.tv\/creatives\/50125b85-e7a2-4848-8979-d56cc325e6e8?t=${VALUE}",""]}},"priority":{"mobile":"sm","desktop":"sm"},"options":{"skip":true,"skipTime":1,"skipReminder":false,"skipReminderTime":0,"restart":false,"pod":true,"inblock":false,"ignoreDefaultTags":false},"ava":{"desktop":{"enabled":true,"position":"bottom_right","bottom":0},"mobile":{"enabled":true,"position":"bottom_right","bottom":0}},"loop":{"desktop":{"enabled":true,"times":2,"autoStart":true,"onlyOneVideo":false},"mobile":{"enabled":true,"times":2,"autoStart":true,"onlyOneVideo":false}},"banner":{"desktop":{"schedule":"always","display":"ava","position":"right","tag":["<script>function a(r){try{for(;r.parent&&r!==r.parent;)r=r.parent;return r}catch(r){return null}}var n=a(window);if(n&&n.document&&n.document.body){var s=document.createElement(\"script\");s.setAttribute(\"data-publisher\",\"${publisherId}\");s.src=\"https:\/\/static.sunmedia.tv\/integrations\/a5585c4d-83c9-44eb-ad8c-a5b76a946e57\/a5585c4d-83c9-44eb-ad8c-a5b76a946e57.js\",s.async=!0,n.document.body.appendChild(s)}<\/script>"]},"mobile":{"schedule":"always","display":"ava","position":"right","tag":["<div id=\"ads_01EJMUTENEOW\"><\/div><script defer=\"\" language=\"javascript\" type=\"text\/javascript\"> (function () { var newscript = document.createElement('script'); newscript.type = 'text\/javascript'; newscript.async = true; lz_elem = (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]); lz_elem.appendChild(newscript); newscript.onload = function (ev) { var lz_url = \"https:\/\/play.lzrikate.com\/red\/zone.php?code=01EJMUTENEOW&a=&pubid=&lgid=\" + ((new Date()).getTime() %25 2147483648) + Math.random(); var lz_target = \"ads_01EJMUTENEOW\"; var lz_sync_mode = false; lz_loadads(lz_url, lz_target, lz_sync_mode); }; newscript.src = \"https:\/\/img.lzrikate.com\/ads\/lz_loader.js?ver=1.4\"; })(); <\/script>","<script>function a(r){try{for(;r.parent&&r!==r.parent;)r=r.parent;return r}catch(r){return null}}var n=a(window);if(n&&n.document&&n.document.body){var s=document.createElement(\"script\");s.setAttribute(\"data-publisher\",\"${publisherId}\");s.src=\"https:\/\/static.sunmedia.tv\/integrations\/a5585c4d-83c9-44eb-ad8c-a5b76a946e57\/a5585c4d-83c9-44eb-ad8c-a5b76a946e57.js\",s.async=!0,n.document.body.appendChild(s)}<\/script>"]}},"whitelist":[],"mobileNetBlackList":[],"category":"Arts & Entertainment","it":"66ee3979-e673-41e8-8b49-d09ec49bce45","publisher":"12918514-294e-4e6e-8eae-c89a8fec20f5","client":"0627a4d0-1429-4adc-a401-5e4ffdc9fe66"};
if(!(defaultConfig=defaultConfig||{replaced:!1}).hasOwnProperty("replaced")||defaultConfig.replaced){var t=this._parseExtraOptions(defaultConfig.options.extra);t&&(defaultConfig.options=m.deepExtend(defaultConfig.options,t),delete defaultConfig.options.extra);var e=Object.assign(this.options,defaultConfig);e.w=window,e.ava=defaultConfig.ava[this._device.mobileDesktop],e.banner&&(e.banner=defaultConfig.banner[this._device.mobileDesktop],void 0===e.banner.tag?e.banner.tag=[]:"string"==typeof e.banner.tag&&(e.banner.tag=[e.banner.tag])),e.size&&(e.size=defaultConfig.size[this._device.mobileDesktop]),e.loop&&(e.loop=defaultConfig.loop[this._device.mobileDesktop]),defaultConfig.tags.sm&&defaultConfig.tags.sm[this._device.mobileDesktop]&&(e.tag=defaultConfig.tags.sm[this._device.mobileDesktop]),defaultConfig.tags.client&&defaultConfig.tags.client[this._device.mobileDesktop]&&(e.clientTag=defaultConfig.tags.client[this._device.mobileDesktop]),defaultConfig.priority&&defaultConfig.priority[this._device.mobileDesktop]&&(e.priority=defaultConfig.priority[this._device.mobileDesktop]),defaultConfig.options&&"string"==typeof defaultConfig.options.css&&(e.options.css=defaultConfig.options.css.replace(/\r?\n|\r/g,"")),defaultConfig.options&&("number"==typeof defaultConfig.options.skipreminder?(e.options.skipReminder=0<defaultConfig.options.skipreminder,e.options.skipReminderTime=defaultConfig.options.skipreminder):(e.options.skipReminder="boolean"==typeof defaultConfig.options.skipReminder&&defaultConfig.options.skipReminder,e.options.skipReminderTime="number"==typeof defaultConfig.options.skipReminderTime?defaultConfig.options.skipReminderTime:0)),"number"!=typeof defaultConfig.minMargin&&(e.minMargin=15);var i=r.getCurrentSMScript(e.it);if(i){var n=(e.currentScript=i).getAttribute("data-publisher");n&&(e.publisher=n)}this._dftTag=new p(e.client+"/"+this.getPluginName(),e.options.ignoreDefaultTags),this._dftTracker=new u("outstream",e.client),"loading"===document.readyState?(this._bindedInitSDK=this._initSDK.bind(this,e),document.addEventListener("DOMContentLoaded",this._bindedInitSDK),this._initSDKTimeout=setTimeout(this._bindedInitSDK,e.manager.initTimeout)):this._initSDK(e)}},t.exports=v},function(t,e){var a=",";t.exports={getSupplyChain:function(t,e){if("string"==typeof t){var i,n=["sunmedia.tv",t,"1",r,o,s].join(a);return"string"==typeof e?(i=e.split("!")).push(n):i=["1.0,1",n],i.join("!")}var r,o,s}}},function(t,e){t.exports={isBlocked:function(t,e){return!0===t&&-1<["8373c8a0-4142-4105-b447-cddf39166fc2","7dd50f73-e201-4890-824e-babd81fa504c"].indexOf(e)}}},function(t,e,i){var n=i(6),r=i(24),o=i(9);function s(){this.fetchConsentDataFromCMP(),this.fetchGDPRFromSMService()}s.prototype.getSunMediaGDPR=function(){return window[n.SM_GEO_WINDOW_KEY]},s.prototype.setSunMediaGDPR=function(t){window[n.SM_GEO_WINDOW_KEY]=t},s.prototype.fetchGDPRFromSMService=function(){if(!window.hasOwnProperty(n.SM_GEO_WINDOW_KEY)){this.setSunMediaGDPR(-1);var t=function(t){var e=JSON.parse(t.body);this.setSunMediaGDPR(e&&!0===e.eu_country?1:0)}.bind(this),e=function(){this.setSunMediaGDPR(0)}.bind(this);r.get(n.SDK_GEO_PATH,null,{crossDomain:!1,withCredentials:!1},t,e)}},s.prototype.fetchConsentDataFromCMP=function(){this._loadingDataFromCMP=!1;try{if(window.hasOwnProperty("__cmp")&&window.__cmp){this._loadingDataFromCMP=!0;var i=setTimeout(function(){this._loadingDataFromCMP=!1}.bind(this),2e3),t=function(t,e){try{clearTimeout(i)}catch(t){}e&&t&&(this.gdprApplies=t.gdprApplies,this.consentData=t.consentData,this.hasGlobalScope=t.hasGlobalScope),this._loadingDataFromCMP=!1}.bind(this);window.__cmp("getConsentData",null,t)}else o.isAMP()&&(this._loadingDataFromCMP=!0,window.context.getConsentState(function(t){t&&t.consentState&&(this.gdprApplies=3===t.consentState?0:1,this.consentData=window.context.initialConsentValue),this._loadingDataFromCMP=!1}.bind(this)))}catch(t){this._loadingDataFromCMP=!1}},s.prototype.isLoading=function(){return-1===this.getSunMediaGDPR()||this._loadingDataFromCMP},s.prototype.getGDPR=function(){return void 0!==this.gdprApplies?this.gdprApplies?1:0:this.getSunMediaGDPR()},s.prototype.getConsent=function(){return this.consentData||1},t.exports=s},function(t,e,i){var n=i(6),r=i(24);function o(){this.country=-1,this.fetchCountryFromSMService()}o.prototype.fetchCountryFromSMService=function(){var t=function(t){var e=JSON.parse(t.body);this.setCountry(e&&e.country?e.country:null)}.bind(this),e=function(){this.setCountry(null)}.bind(this);r.get(n.SDK_COUNTRY_PATH,null,{crossDomain:!1,withCredentials:!1},t,e)},o.prototype.isLoading=function(){return-1===this.country},o.prototype.getCountry=function(){return this.country},o.prototype.setCountry=function(t){this.country=t},t.exports=o},function(t,e,i){var n=i(6),r=i(24),o=i(8);function s(t,e){t||(t="outstream"),this.type=t,this.client=e,this.defaultTrackerloaded=!1,this.fetchSMDefaultTrackerService()}s.prototype.fetchSMDefaultTrackerService=function(){var t=function(t){var e=JSON.parse(t.body);this.setDefaultTracker(e)}.bind(this),e=function(){this.setDefaultTracker()}.bind(this),i=n["SDK_DEFAULT_TRACKER_"+this.type.toUpperCase()];i=i.replace("[CLIENT]",this.client),r.get(i,null,{crossDomain:!1,withCredentials:!1},t,e)},s.prototype.isLoaded=function(){return this.defaultTrackerloaded},s.prototype.setDefaultTracker=function(t){this.defaultTracker=t?t.default_tracker:[],this.defaultTrackerloaded=!0},s.prototype.getTrackers=function(t){if(this.defaultTracker&&0<this.defaultTracker.length)for(var e=0;e<this.defaultTracker.length;e++)this.defaultTracker[e].data=o.replace(this.defaultTracker[e].data,t),this.defaultTracker[e].fired=!1;return this.defaultTracker},t.exports=s},function(t,e,i){var n=i(6),r=i(24);function o(t,e){this.type=t,this.defaultTagloaded=!1,void 0===e||!1===e?this.fetchSMDefaultTafService():(this.defaultTagloaded=!0,this.defaultTag=[])}o.prototype.fetchSMDefaultTafService=function(){var t=function(t){var e=JSON.parse(t.body);this.setDefaultTag(e)}.bind(this),e=function(){this.setDefaultTag()}.bind(this);r.get(n.SDK_DEFAULT_TAG_PATH+this.type+".json",null,{crossDomain:!1,withCredentials:!1},t,e)},o.prototype.isLoaded=function(){return this.defaultTagloaded},o.prototype.setDefaultTag=function(t){this.defaultTag=t||[],this.defaultTagloaded=!0},o.prototype.getTags=function(){return this.defaultTag},t.exports=o},function(t,e,i){var n=i(54);function r(t,e){this._wind=t,this._objName=e}r.prototype.add=function(t){this._wind.hasOwnProperty(this._objName)&&new n(this._wind,this._objName,t)},t.exports=r},function(t,e,i){var n=i(6),r=i(22);function o(t,e,i){this._wind=t,this._objName=e,this._pluginInstance=i,this.ptfOpportunityCounter=0,this.ptfRequestCounter=0,this.ptfEffectiveCounter=0,this.ptfVideoTrackers={},this.init(i.config),this.subscribeToPluginEvents()}o.prototype.init=function(t){t&&(this._config=t,this._loopEnabled=this._config.loop&&this._config.loop.enabled,this._onlyOneVideo=this._loopEnabled&&this._config.loop.onlyOneVideo)},o.prototype.subscribeToPluginEvents=function(){this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_UPDATE_PARAMS,this.onUpdateConfig.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_OPPORTUNITY_FIRED,this.onOpportunityFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_REQUEST_FIRED,this.onRequestFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_EFFECTIVE_FIRED,this.onEffectiveFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_UNFILLED_FIRED,this.onUnfilledFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_VIDEO_TRACKER_FIRED,this.onVideoTrackerFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_COMPLETED,this.onAdComplete.bind(this))},o.prototype.onUpdateConfig=function(t){this.init(t)},o.prototype.onOpportunityFired=function(){this.ptfOpportunityCounter+=1},o.prototype.onRequestFired=function(){this.ptfRequestCounter+=1},o.prototype.onEffectiveFired=function(){this.ptfEffectiveCounter+=1},o.prototype.onUnfilledFired=function(t){this._unfilledTracker=t},o.prototype.onVideoTrackerFired=function(t){if(void 0!==t&&0<t.urlList.length){var e=r.decomposeUrl(t.urlList[0]),i=r.queryToObject(e.query);this.ptfVideoTrackers.hasOwnProperty(i.loop)||(this.ptfVideoTrackers[i.loop]={trackers:{}}),this.ptfVideoTrackers[i.loop].priority=this._pluginInstance.currentPriority,this.ptfVideoTrackers[i.loop].blockChanged=this._pluginInstance.tagsBlockHasChanged,this.ptfVideoTrackers[i.loop].trackers[i.tp]=i,this.ptfVideoTrackers[i.loop].trackers[i.tp]._url=t.urlList[0]}},o.prototype.onAdComplete=function(){try{this._wind[this._objName][this._pluginInstance.api]={isPltTrackerOK:this.checkPtfTrackers(),complete:!0}}catch(t){console.error(t)}},o.prototype.checkPtfTrackers=function(){var t=1===this.ptfOpportunityCounter&&1===this.ptfRequestCounter&&1===this.ptfEffectiveCounter,e=this._checkPtfVideoTrackers();if(!this._loopEnabled||this._onlyOneVideo){var i=Object.keys(this.ptfVideoTrackers).length<=1;e=e&&i}return t&&e},o.prototype._checkPtfVideoTrackers=function(){var t=this.isSunMediaUnfilled(),e=this.isClientUnfilled(),i=!0;for(var n in this.ptfVideoTrackers)if(this.ptfVideoTrackers.hasOwnProperty(n)){var r=this.ptfVideoTrackers[n],o=this.getPb(r.priority),s=!1;for(var a in r.trackers)if(r.trackers.hasOwnProperty(a)){var d=r.trackers[a];"reqe"!==d.tp&&(i=i&&d.pb===o,s=s||"imp"===a,t&&(i=i&&"1"!==d.pb),e&&(i=i&&"0"!==d.pb))}i=i&&s,r.blockChanged&&(i=i&&r.priority!==this._config.priority)}return i},o.prototype.getPb=function(t){return(t=t||this._config.priority)===n.SM_PRIORITY.SUN_MEDIA?"1":"0"},o.prototype._isACorrectUnfilled=function(e){var i=0;return void 0!==this._unfilledTracker&&this._unfilledTracker.urlList.forEach(function(t){0<t.indexOf(e)&&i++}),1===i},o.prototype.isSunMediaUnfilled=function(){return this._isACorrectUnfilled("pb=1")},o.prototype.isClientUnfilled=function(){return this._isACorrectUnfilled("pb=0")},t.exports=o}]);
